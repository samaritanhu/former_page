<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Xinyi&#39;s gadget">
<meta property="og:url" content="http://nobugs.dev/index.html">
<meta property="og:site_name" content="Xinyi&#39;s gadget">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Xinyi Hu">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://nobugs.dev/"/>





  <title>Xinyi's gadget</title>
  








<meta name="generator" content="Hexo 4.2.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

<!-- ҳ����С���� -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>


    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Xinyi's gadget</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-knowme">
          <a href="/KnowMe" rel="section">
            
            KnowMe
          </a>
        </li>
      
        
        <li class="menu-item menu-item-blogs">
          <a href="/archives" rel="section">
            
            Blogs
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-friends">
          <a href="/group" rel="section">
            
            Friends
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nobugs.dev/2021/04/18/cs224n%20bert/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinyi Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyi's gadget">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/04/18/cs224n%20bert/" itemprop="url">Stanford CS224n NLP with Deep Learning | Winter 2020 | BERT and Other Pre-trained Language Models</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-04-18T21:57:23-07:00">
                2021-04-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NLP/" itemprop="url" rel="index">
                    <span itemprop="name">NLP</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2021/04/18/cs224n%20bert/" class="leancloud_visitors" data-flag-title="Stanford CS224n NLP with Deep Learning | Winter 2020 | BERT and Other Pre-trained Language Models">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  9
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://www.youtube.com/watch?v=knTc-NQSjKA" target="_blank" rel="noopener"><strong>Online Video Link</strong></a></p>
<h1 id="History-and-Background"><a href="#History-and-Background" class="headerlink" title="History and Background"></a>History and Background</h1><h2 id="Pre-training-in-NLP"><a href="#Pre-training-in-NLP" class="headerlink" title="Pre-training in NLP"></a>Pre-training in NLP</h2>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nobugs.dev/2020/12/16/Reinforment_learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinyi Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyi's gadget">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/12/16/Reinforment_learning/" itemprop="url">Reinforcement Learning Notes</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-12-16T14:44:23-08:00">
                2020-12-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ComputerScience/" itemprop="url" rel="index">
                    <span itemprop="name">ComputerScience</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/12/16/Reinforment_learning/" class="leancloud_visitors" data-flag-title="Reinforcement Learning Notes">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  464
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Introductions"><a href="#Introductions" class="headerlink" title="Introductions"></a>Introductions</h1><p>Reinforcement learning (RL) is one of the most interesting areas of machine learning, where <strong>an agent interacts with an environment by following a policy</strong>. In each state of the environment, it takes action based on the policy, and as a result, receives a reward and transitions to a new state. The goal of RL is to learn an optimal policy which maximizes the long-term cumulative rewards.</p>
<p>To achieve this, there are several RL algorithms and methods, which use the received rewards as the main approach to approximate the best policy. Generally, these methods perform really well. In some cases, though the teaching process is challenging. This can be especially true in an environment where the rewards are sparse (e.g. a game where we only receive a reward when the game is won or lost). To help with this issue, we can manually design rewards functions, which provide the agent with more frequent rewards. Also, in certain scenarios, there isn’t any direct reward function (e.g. teaching a self-driving vehicle), thus, the manual approach is necessary. However, manually designing a reward function that satisfies the desired behaviour can be extremely complicated.</p>
<p>A feasible solution to this problem is <strong>imitation learning (IL)</strong>. In IL instead of trying to learn from the sparse rewards or manually specifying a reward function, <strong>an expert (typically a human) provides us with a set of demonstrations.</strong> The agent then tries to learn the optimal policy by following, imitating the expert’s decisions.</p>
<h1 id="Basics-of-Imitation-Learning"><a href="#Basics-of-Imitation-Learning" class="headerlink" title="Basics of Imitation Learning"></a>Basics of Imitation Learning</h1><p><strong>Generally, imitation learning is useful when it is easier for an expert to demonstrate the desired behaviour rather than to specify a reward function which would generate the same behaviour or to directly learn the policy.</strong></p>
<p>The main component of IL is the environment, which is essentially a Markov Decision Process (MDP). This means that the environment has an <strong>S</strong> set of states, an <strong><em>A\</em></strong> set of actions, a <strong><em>P(s’|s,a)\</em></strong> transition model (which is the probability that an action <strong><em>a\</em></strong> in the state <strong><em>s\</em></strong> leads to state <strong><em>s’\</em></strong> ) and an unknown <strong><em>R(s,a)\</em></strong> reward function. The agent performs different actions in this environment based on its <strong><em>π\</em></strong> policy. We also have the expert’s demonstrations (which are also known as trajectories) <strong><em>τ = (s0, a0, s1, a1, …)\</em> ,</strong> where the actions are based on the expert’s (“optimal”) <strong><em>π*</em></strong> policy. In some cases, we even “have access” to the expert at training time, which means that we can query the expert for more demonstrations or for evaluation. Finally, the loss function and the learning algorithm are two main components, in which the various imitation learning methods differ from each other.</p>
<h1 id="Types"><a href="#Types" class="headerlink" title="Types"></a>Types</h1><p>Behavioural Cloning</p>
<p>Direct Policy Learning</p>
<p>Inverse Reinforcement Learning</p>
<p>reference: <a href="https://medium.com/@SmartLabAI/a-brief-overview-of-imitation-learning-8a8a75c44a9c" target="_blank" rel="noopener">https://medium.com/@SmartLabAI/a-brief-overview-of-imitation-learning-8a8a75c44a9c</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nobugs.dev/2020/12/02/Concurrent_programming/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinyi Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyi's gadget">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/12/02/Concurrent_programming/" itemprop="url">Concurrent Programming</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-12-02T14:44:23-08:00">
                2020-12-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ComputerScience/" itemprop="url" rel="index">
                    <span itemprop="name">ComputerScience</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/12/02/Concurrent_programming/" class="leancloud_visitors" data-flag-title="Concurrent Programming">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  234
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Module1"><a href="#Module1" class="headerlink" title="Module1"></a>Module1</h1><p><strong>Conceptual knowledge</strong><br>Difference between processes and threads<br>Benefits and drawbacks of threads</p>
<p><strong>Practical knowledge in Java</strong><br>How to create and start a thread<br>Differences between Runnable and Thread</p>
<h1 id="Module2"><a href="#Module2" class="headerlink" title="Module2"></a>Module2</h1><p>Read: Chapter2, 3, 4</p>
<p><strong>Conceptual knowledge</strong></p>
<ul>
<li>Thread safety</li>
<li>Race conditions</li>
<li>Thread confinement</li>
<li>Provider- vs. client-side locking</li>
</ul>
<p><strong>Practical knowledge in Java</strong></p>
<ul>
<li>Distinguish between thread safe and thread unsafe code just by reading it</li>
<li>Detect the possibility of race conditions just by reading the code.</li>
<li>Know the semantic difference between data type T and its partner AtomicT<br>(e.g. int and AtomicInteger)</li>
<li>Detect thread safety problems coming from compound actions on objects</li>
<li>Understand the synchronized keyword, and the various ways that it can be used</li>
<li>Detect when objects are being published, and the risks that entails</li>
<li>Detect thread and instance confinement, or lack thereof, just by looking at the code</li>
<li>Correct simple thread-safety problems in existing program</li>
<li>Know how to use basic synchronization primitives</li>
</ul>
<h1 id="Module3"><a href="#Module3" class="headerlink" title="Module3"></a>Module3</h1><p>Read: Chapter5, 10</p>
<p>At the end of this module you should have learned the following.</p>
<p><strong>Conceptual knowledge</strong></p>
<ul>
<li>Randomness of synchronization problems</li>
<li>Make good judgements about what to lock and for how long</li>
<li>Open calls</li>
<li>The producer-consumer model in multithreaded programs</li>
<li>Semaphores</li>
<li>Deadlocks, livelocks, starvation</li>
</ul>
<p><strong>Practical knowledge in Java</strong></p>
<ul>
<li>Understand ConcurrentModificationException, and why it happens in multithreaded situations</li>
<li>Correct thread-safety problems in collection classes</li>
<li>Use of the Semaphore class</li>
<li>Identify potential deadlock situations just by looking at the code</li>
<li>Correct deadlock situations</li>
</ul>
<h1 id="Module4"><a href="#Module4" class="headerlink" title="Module4"></a>Module4</h1><p>Read: Chapter6, 8</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nobugs.dev/2020/11/28/InformationRetrival2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinyi Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyi's gadget">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/11/28/InformationRetrival2/" itemprop="url">Information Retrieval</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-11-28T14:44:23-08:00">
                2020-11-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ComputerScience/" itemprop="url" rel="index">
                    <span itemprop="name">ComputerScience</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/11/28/InformationRetrival2/" class="leancloud_visitors" data-flag-title="Information Retrieval">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.4k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  8
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Module2"><a href="#Module2" class="headerlink" title="Module2:"></a>Module2:</h1><p>Read: Chapter 4 to 4.5(excluding)</p>
<p>By the end of this module you should be able to:</p>
<ul>
<li>Tokenize text files, and understand the multiple subtleties of tokenization</li>
<li>Describe what stop words are</li>
<li>Describe what stemming is, in general, and Porter stemming in particular (no need to know all the rules!)</li>
<li>Have an idea of what n-grams are, even though they aren’t exercised in the project</li>
</ul>
<p>Additionally, you will gain practical knowledge of:</p>
<ul>
<li>How to navigate through a directory tree in search of specific types of files</li>
<li>How to read, and maybe write, zip files</li>
</ul>
<p>There are a few words that have very high frequencies and many words that have low frequencies. </p>
<p>Zipf ’s law states that the frequency of the rth most common word is inversely proportional to r or, alternatively, the rank of a word times its frequency (f) is approximately a constant (k): r · f = k</p>
<h2 id="Tokenize"><a href="#Tokenize" class="headerlink" title="Tokenize"></a>Tokenize</h2><p><strong>Tokenizing</strong> is the process of forming words from the sequence of characters in a document. All uppercase letters were also converted to lowercase.</p>
<h3 id="Tokenizing-Process"><a href="#Tokenizing-Process" class="headerlink" title="Tokenizing Process"></a>Tokenizing Process</h3><p>•First step is to use parser to identify appropriate parts of document to tokenize</p>
<p>•Defer complex decisions to other components</p>
<h2 id="Stopping"><a href="#Stopping" class="headerlink" title="Stopping"></a>Stopping</h2><p>•Function words (determiners, prepositions) have little meaning on their own</p>
<p>•High occurrence frequencies</p>
<p>•Treated as <em>stopwords</em> (i.e. removed) </p>
<p>–reduce index space, improve response time, improve effectiveness</p>
<p>•Can be important in combinations</p>
<p>–e.g., “to be or not to be”</p>
<p>•Stopword list can be created from high-frequency words or based on a standard list</p>
<p>•Lists are customized for applications, domains, and even parts of documents</p>
<p>–e.g., “click” is a good stopword for anchor text</p>
<p>•Best policy is to index all words in documents, make decisions about which words to use at query time</p>
<h2 id="Stemming"><a href="#Stemming" class="headerlink" title="Stemming"></a>Stemming</h2><p>•Many morphological variations of words</p>
<p>–<em>inflectional</em> (plurals, tenses)</p>
<p>–<em>derivational</em> (making verbs nouns etc.)</p>
<p>•In most cases, these have the same or very similar meanings</p>
<p>•Stemmers attempt to reduce morphological variations of words to a common stem</p>
<p>–usually involves removing suffixes</p>
<p>•Can be done at indexing time or as part of query processing (like stopwords)</p>
<p>•Generally a small but significant effectiveness improvement</p>
<p>–can be crucial for some languages</p>
<p>–e.g., 5-10% improvement for English, up to 50% in Arabic</p>
<p><img src="/2020/11/28/InformationRetrival2/Users\surface\AppData\Roaming\Typora\typora-user-images\image-20201130193829055.png" alt="image-20201130193829055"></p>
<p>•Two basic types</p>
<p>–Dictionary-based: uses lists of related words</p>
<p>–Algorithmic: uses program to determine related words</p>
<p>•Algorithmic stemmers</p>
<p>–<em>suffix-s:</em> remove ‘s’ endings assuming plural</p>
<p>•e.g., cats → cat, lakes → lake, wiis → wii</p>
<p>•Many <em>false negatives</em>: supplies → supplie</p>
<p>Some <em>false positives</em>: ups → up</p>
<h3 id="Porter-Stemmer"><a href="#Porter-Stemmer" class="headerlink" title="Porter Stemmer"></a>Porter Stemmer</h3><p>•Consists of a series of rules designed to the longest possible suffix at each step</p>
<p>•Makes a number of errors and difficult to modify</p>
<p><img src="/2020/11/28/InformationRetrival2/Users\surface\AppData\Roaming\Typora\typora-user-images\image-20201130193905191.png" alt="image-20201130193905191" style="zoom:50%;"></p>
<h6 id="Issues"><a href="#Issues" class="headerlink" title="Issues: "></a>Issues: <img src="/2020/11/28/InformationRetrival2/Users\surface\AppData\Roaming\Typora\typora-user-images\image-20201130193924709.png" alt="image-20201130193924709" style="zoom:50%;"></h6><h2 id="N-gram"><a href="#N-gram" class="headerlink" title="N-gram"></a>N-gram</h2><p>•Simpler definition – phrase is any sequence of <em>n</em> words – known as <em>n-grams</em></p>
<p>–<em>bigram</em>: 2 word sequence, <em>trigram</em>: 3 word sequence, <em>unigram</em>: single words</p>
<p>–N-grams also used at character level for applications such as OCR</p>
<p>•N-grams typically formed from <em>overlapping</em> sequences of words</p>
<p>–i.e. move n-word “window” one word at a time in document</p>
<p>•Frequent n-grams are more likely to be meaningful phrases</p>
<p>•N-grams form a Zipf distribution</p>
<p>–Better fit than words alone</p>
<p>•Could index all n-grams up to specified length</p>
<p>–Much faster than POS tagging</p>
<p>–Uses a lot of storage</p>
<p>•e.g., document containing 1,000 words would contain 3,990 instances of word n-grams of length 2 <em>≤ n ≤ 5</em></p>
<h1 id="Module3"><a href="#Module3" class="headerlink" title="Module3:"></a>Module3:</h1><p>Read: Chapter 5 of the textbook, up until (and including) 5.6.2</p>
<ul>
<li>Have an in-depth understanding of what inverted indexes are, and the challenges associated with their construction when the corpus is very large</li>
<li>Change or add information to the payload in the postings</li>
<li>Construct partial indexes and merge them at the end</li>
<li>Shard an index</li>
</ul>
<h2 id="Indexes"><a href="#Indexes" class="headerlink" title="Indexes"></a>Indexes</h2><p>•<em>Indexes</em> are data structures designed to make search faster</p>
<p>•Text search has unique requirements, which leads to unique data structures</p>
<p>•Most common data structure is <em>inverted index</em></p>
<p>–general name for a class of structures</p>
<p>–“inverted” because documents are associated with words, rather than words with documents</p>
<p>•similar to a <em>concordance</em></p>
<h2 id="Indexes-and-Ranking"><a href="#Indexes-and-Ranking" class="headerlink" title="Indexes and Ranking"></a>Indexes and Ranking</h2><p>•Indexes are designed to support <em>search</em></p>
<p>–faster response time, supports updates</p>
<p>•Text search engines use a particular form of search: <em>ranking</em></p>
<p>–documents are retrieved in sorted order according to a score computing using the document representation, the query, and a <em>ranking algorithm</em></p>
<p>•What is a reasonable abstract model for ranking?</p>
<p>–enables discussion of indexes without details of retrieval model</p>
<h2 id="Inverted-Index"><a href="#Inverted-Index" class="headerlink" title="Inverted Index"></a>Inverted Index</h2><p>•Each index term is associated with an <em>inverted list</em></p>
<p>–Contains lists of documents, or lists of word occurrences in documents, and other information</p>
<p>–Each entry is called a <em>posting</em></p>
<p>–The part of the posting that refers to a specific document or location is called a <em>pointer</em></p>
<p>–Each document in the collection is given a unique number</p>
<p>–Lists are usually <em>document-ordered</em> (sorted by document number)</p>
<h2 id="Compression"><a href="#Compression" class="headerlink" title="Compression"></a>Compression</h2><p>•<em>Basic idea</em>: Common data elements use short codes while uncommon data elements use longer codes</p>
<p>•Inverted lists are very large</p>
<p>–e.g., 25-50% of collection for TREC collections using Indri search engine</p>
<p>–Much higher if n-grams are indexed</p>
<p>•Compression of indexes saves disk and/or memory space</p>
<p>–Typically have to decompress lists to use them</p>
<p>–Best compression techniques have good <em>compression ratios</em> and are easy to decompress</p>
<p>•<em>Lossless</em> compression – no information lost</p>
<h2 id="Distributed-Indexing"><a href="#Distributed-Indexing" class="headerlink" title="Distributed Indexing"></a>Distributed Indexing</h2><p>•Distributed processing driven by need to index and analyze huge amounts of data (i.e., the Web)</p>
<p>•Large numbers of inexpensive servers used rather than larger, more expensive machines</p>
<p>•<em>MapReduce</em> is a distributed programming tool designed for indexing and analysis tasks</p>
<h2 id="Skipping"><a href="#Skipping" class="headerlink" title="Skipping"></a>Skipping</h2><p>•Search involves comparison of inverted lists of different lengths</p>
<p>–Can be very inefficient</p>
<p>–“Skipping” ahead to check document numbers is much better</p>
<p>–Compression makes this difficult</p>
<p>•Variable size, only d-gaps stored</p>
<p>•Skip pointers are additional data structure to support skipping</p>
<h2 id="Merging"><a href="#Merging" class="headerlink" title="Merging"></a>Merging</h2><p>•Merging addresses limited memory problem</p>
<p>–Build the inverted list structure until memory runs out</p>
<p>–Then write the partial index to disk, start making a new one</p>
<p>–At the end of this process, the disk is filled with many partial indexes, which are merged</p>
<p>•Partial lists must be designed so they can be merged in small pieces</p>
<p>–e.g., storing in alphabetical order</p>
<h3 id="Result-Merging"><a href="#Result-Merging" class="headerlink" title="Result Merging"></a>Result Merging</h3><p>•Index merging is a good strategy for handling updates when they come in large batches</p>
<p>•For small updates this is very inefficient</p>
<p>–instead, create separate index for new documents, merge <em>results</em> from both searches</p>
<p>–could be in-memory, fast to update and search</p>
<p>•Deletions handled using <em>delete list</em></p>
<p>–Modifications done by putting old version on delete list, adding new version to new documents index</p>
<h1 id="Module4-Search-and-Scoring"><a href="#Module4-Search-and-Scoring" class="headerlink" title="Module4: Search and Scoring"></a>Module4: Search and Scoring</h1><p>Read:</p>
<ul>
<li>Chapter 5 of the textbook, from 5.7 onward</li>
<li>Chapter 6, up until (but excluding) 6.3.2</li>
</ul>
<p>By the end of this module you should be able to:</p>
<ul>
<li>Normalize queries to the indexed terms</li>
<li>Have an good understanding of how to quantify the concept of <em>relevance</em> of a document to a query</li>
<li>Obtain a sorted list of results for a given query, by applying a scoring formula</li>
<li>Implement simple scoring formulas</li>
<li>Discuss tradeoffs of <em>document-at-a-time</em> vs. <em>term-at-a-time</em> query processing</li>
<li>Discuss common optimizations, such as conjunction</li>
</ul>
<h2 id="Query-Processing"><a href="#Query-Processing" class="headerlink" title="Query Processing"></a>Query Processing</h2><h3 id="Document-at-a-time-Evaluation"><a href="#Document-at-a-time-Evaluation" class="headerlink" title="Document-at-a-time Evaluation"></a>Document-at-a-time Evaluation</h3><p><img src="/2020/11/28/InformationRetrival2/Users\surface\AppData\Roaming\Typora\typora-user-images\image-20201129105002784.png" alt="image-20201129105002784" style="zoom:50%;"></p>
<h3 id="Term-at-a-time-Evaluation"><a href="#Term-at-a-time-Evaluation" class="headerlink" title="Term-at-a-time Evaluation"></a>Term-at-a-time Evaluation</h3><p><img src="/2020/11/28/InformationRetrival2/Users\surface\AppData\Roaming\Typora\typora-user-images\image-20201129105030050.png" alt="image-20201129105030050" style="zoom:50%;"></p>
<p>•Term-at-a-time uses more memory for accumulators, but accesses disk more efficiently</p>
<h2 id="Optimization-Methods"><a href="#Optimization-Methods" class="headerlink" title="Optimization Methods"></a>Optimization Methods</h2><p>There are two main classes of optimizations for query processing. The first is to read less data from the index, and the second is to process fewer documents. </p>
<h2 id="Threshold-Methods"><a href="#Threshold-Methods" class="headerlink" title="Threshold Methods"></a>Threshold Methods</h2><p>•Threshold methods use number of top-ranked documents needed (<em>k</em>) to optimize query processing</p>
<p>–for most applications, <em>k</em> is small</p>
<p>•For any query, there is a <em>minimum score</em> that each document needs to reach before it can be shown to the user</p>
<p>–score of the <em>k</em>th-highest scoring document</p>
<p>–gives <em>threshold</em> <em>τ</em></p>
<p>–optimization methods estimate <em>τ′</em> to ignore documents</p>
<p>•For document-at-a-time processing, use score of lowest-ranked document so far for <em>τ′</em></p>
<p>–for term-at-a-time, have to use <em>kth</em>-largest score in the accumulator table</p>
<p>•<em>MaxScore</em> method compares the maximum score that remaining documents could have to <em>τ′</em></p>
<p>–<em>safe</em> optimization in that ranking will be the same without optimization</p>
<h1 id="Module5"><a href="#Module5" class="headerlink" title="Module5"></a>Module5</h1><p>Read: Chapter7.1</p>
<p>By the end of this module you should be able to:</p>
<ul>
<li>Explain and implement tf-idf, the intuitions behind it, and the general shape of the formula</li>
<li>Explain and implement cosine similarity of two vectors</li>
<li>Have a more in-depth understanding of the various options to score and rank documents for queries</li>
</ul>
<h2 id="Relevance"><a href="#Relevance" class="headerlink" title="Relevance"></a>Relevance</h2><p>•Retrieval models make various assumptions about relevance to simplify problem</p>
<p>–e.g., <em>topical</em> vs. <em>user</em> relevance</p>
<p>–e.g., <em>binary</em> vs. <em>multi-valued</em> relevance</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nobugs.dev/2020/11/08/InformationRetrieval/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinyi Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyi's gadget">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/11/08/InformationRetrieval/" itemprop="url">Information Retrieval</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-11-08T14:44:23-08:00">
                2020-11-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ComputerScience/" itemprop="url" rel="index">
                    <span itemprop="name">ComputerScience</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/11/08/InformationRetrieval/" class="leancloud_visitors" data-flag-title="Information Retrieval">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.7k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  10
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Search-and-Information-Retrieval"><a href="#Search-and-Information-Retrieval" class="headerlink" title="Search and Information Retrieval"></a>Search and Information Retrieval</h1><h2 id="Information-Retrieval"><a href="#Information-Retrieval" class="headerlink" title="Information Retrieval"></a>Information Retrieval</h2><p><em>“Information</em> <em>retrieval is a</em> <em>field</em> <em>concerned with the structure, analysis,</em> <em>organization, storage<strong>, searching, and retrieval of information</strong>.”</em> (Salton, 1968)</p>
<h2 id="What-is-a-Document"><a href="#What-is-a-Document" class="headerlink" title="What is a Document?"></a>What is a Document?</h2><h3 id="Examples"><a href="#Examples" class="headerlink" title="Examples:"></a>Examples:</h3><ul>
<li>web pages, email, books, news stories, scholarly papers, text messages, Word™, Powerpoint™, PDF, forum postings, patents, IM sessions, etc.</li>
</ul>
<h3 id="Common-properties"><a href="#Common-properties" class="headerlink" title="Common properties"></a>Common properties</h3><ul>
<li><p>Significant text content</p>
</li>
<li><p>Some structure (e.g., title, author, date for papers; subject, sender, destination for email)</p>
</li>
</ul>
<h2 id="Documents-vs-Database-Records"><a href="#Documents-vs-Database-Records" class="headerlink" title="Documents vs. Database Records"></a>Documents vs. Database Records</h2><p>Database records (or <em>tuples</em> in relational databases) are typically made up of well-defined fields (or <em>attributes</em>)</p>
<ul>
<li>e.g., bank records with account numbers, balances, names, addresses, social security numbers, dates of birth, etc. </li>
</ul>
<p>Easy to compare fields with well-defined semantics to queries in order to find matches</p>
<p>Text is more difficult</p>
<p>Example bank database query</p>
<ul>
<li><p><em>Find records with balance &gt; $50,000 in branches located in Amherst, MA.</em></p>
</li>
<li><p>Matches easily found by comparison with field values of records</p>
</li>
</ul>
<p>Example search engine query</p>
<ul>
<li><p><em>bank scandals in western mass</em></p>
</li>
<li><p>This text must be compared to the text of entire news stories</p>
</li>
</ul>
<h2 id="Comparing-Text"><a href="#Comparing-Text" class="headerlink" title="Comparing Text"></a>Comparing Text</h2><p>Comparing the query text to the document text and determining what is a good match is the <strong>core issue</strong> of information retrieval.</p>
<p>Exact matching of words is not enough</p>
<ul>
<li><p>Many different ways to write the same thing in a “natural language” like English</p>
</li>
<li><p>e.g., does a news story containing the text <em>“bank director in Amherst steals funds”</em> match the query?</p>
</li>
<li><p>Some stories will be better matches than others</p>
</li>
</ul>
<h2 id="Dimensions-of-IR"><a href="#Dimensions-of-IR" class="headerlink" title="Dimensions of IR"></a>Dimensions of IR</h2><p>IR is more than just text, and more than just web search</p>
<ul>
<li>although these are central</li>
</ul>
<p>People doing IR work with different media, different types of search applications, and different tasks</p>
<p>New applications increasingly involve new media</p>
<ul>
<li><p>e.g., video, photos, music, speech</p>
</li>
<li><p>Like text, content is difficult to describe and compare</p>
<ul>
<li>text may be used to represent them (e.g. tags)</li>
</ul>
</li>
</ul>
<p>IR approaches to search and evaluation are appropriate</p>
<div class="table-container">
<table>
<thead>
<tr>
<th><strong>Content</strong></th>
<th><strong>Applications</strong></th>
<th><strong>Tasks</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Text</td>
<td>Web search</td>
<td>Ad hoc search</td>
</tr>
<tr>
<td>Images</td>
<td>Vertical search</td>
<td>Filtering</td>
</tr>
<tr>
<td>Video</td>
<td>Enterprise search</td>
<td>Classification</td>
</tr>
<tr>
<td>Scanned docs</td>
<td>Desktop search</td>
<td>Question answering</td>
</tr>
<tr>
<td>Audio</td>
<td>Forum search</td>
<td></td>
</tr>
<tr>
<td>Music</td>
<td>P2P search</td>
<td></td>
</tr>
<tr>
<td></td>
<td>Literature search</td>
</tr>
</tbody>
</table>
</div>
<p>Ad-hoc search</p>
<ul>
<li>Find relevant documents for an arbitrary text query</li>
</ul>
<p>Filtering</p>
<ul>
<li>Identify relevant user profiles for a new document</li>
</ul>
<p>Classification</p>
<ul>
<li>Identify relevant labels for documents</li>
</ul>
<p>Question answering</p>
<ul>
<li>Give a specific answer to a question</li>
</ul>
<h2 id="Big-Issues-in-IR"><a href="#Big-Issues-in-IR" class="headerlink" title="Big Issues in IR"></a>Big Issues in IR</h2><h3 id="Relevance"><a href="#Relevance" class="headerlink" title="Relevance"></a>Relevance</h3><p>Simple (and simplistic) definition: A relevant document contains the information that a person was looking for when they submitted a query to the search engine.</p>
<p>Many factors influence a person’s decision about what is relevant: e.g., task, context, novelty, style</p>
<p><em>Topical relevance</em> (same topic) vs. <em>user relevance</em> (everything else)</p>
<p><em>Retrieval models</em> define a view of relevance</p>
<p><em>Ranking algorithms</em> used in search engines are based on retrieval models</p>
<p>Most models describe statistical properties of text rather than linguistic</p>
<ul>
<li><p>i.e. counting simple text features such as words instead of parsing and analyzing the sentences</p>
</li>
<li><p>Statistical approach to text processing started with Luhn in the 50s</p>
</li>
<li><p>Linguistic features can be part of a statistical model</p>
</li>
</ul>
<h3 id="Evaluation"><a href="#Evaluation" class="headerlink" title="Evaluation"></a>Evaluation</h3><p>Experimental procedures and measures for comparing system output with user expectations</p>
<ul>
<li>Originated in Cranfield experiments in the 60s</li>
</ul>
<p>IR evaluation methods now used in many fields</p>
<p>Typically use <em>test collection</em> of documents, queries, and relevance judgments</p>
<ul>
<li>Most commonly used are TREC collections</li>
</ul>
<p><em>Recall</em> and <em>precision</em> are two examples of effectiveness measures</p>
<p>Users and Information Needs</p>
<ul>
<li>Search evaluation is user-centered</li>
<li>Keyword queries are often poor descriptions of actual information needs</li>
<li>Interaction and context are important for understanding user intent</li>
<li>Query refinement techniques such as <em>query expansion</em>, <em>query suggestion</em>, <em>relevance feedback</em> improve ranking</li>
</ul>
<h2 id="IR-and-Search-Engines"><a href="#IR-and-Search-Engines" class="headerlink" title="IR and Search Engines"></a>IR and Search Engines</h2><p>A search engine is the practical application of information retrieval techniques to large scale text collections</p>
<p>Web search engines are best-known examples, but many others</p>
<ul>
<li><em>Open source</em> search engines are important for research and development<ul>
<li>e.g., Lucene, Lemur/Indri, <em>Galago</em></li>
</ul>
</li>
</ul>
<p>Big issues include main IR issues but also some others</p>
<h2 id="Search-Engine-Issues"><a href="#Search-Engine-Issues" class="headerlink" title="Search Engine Issues"></a>Search Engine Issues</h2><h3 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h3><p>Measuring and improving the efficiency of search </p>
<ul>
<li>e.g., reducing <em>response time</em>, increasing <em>query throughput</em>, increasing <em>indexing speed</em></li>
</ul>
<p><em>Indexes</em> are data structures designed to improve search efficiency</p>
<ul>
<li>designing and implementing them are major issues for search engines</li>
</ul>
<h3 id="Dynamic-data"><a href="#Dynamic-data" class="headerlink" title="Dynamic data"></a>Dynamic data</h3><p>The “collection” for most real applications is constantly changing in terms of updates, additions, deletions</p>
<ul>
<li>e.g., web pages</li>
</ul>
<p>Acquiring or “crawling” the documents is a major task</p>
<ul>
<li>Typical measures are <em>coverage</em> (how much has been indexed) and <em>freshness</em> (how recently was it indexed)</li>
</ul>
<p>Updating the indexes while processing queries is also a design issue</p>
<h3 id="Scalability"><a href="#Scalability" class="headerlink" title="Scalability"></a>Scalability</h3><p>Making everything work with millions of users every day, and many terabytes of documents</p>
<p>Distributed processing is essential</p>
<h3 id="Adaptability"><a href="#Adaptability" class="headerlink" title="Adaptability"></a>Adaptability</h3><p>Changing and tuning search engine components such as ranking algorithm, indexing strategy, interface for different applications</p>
<h3 id="Spam"><a href="#Spam" class="headerlink" title="Spam"></a>Spam</h3><p>For Web search, spam in all its forms is one of <strong>the</strong> major issues</p>
<p>Affects the efficiency of search engines and, more seriously, the <strong>effectiveness</strong> of the results</p>
<p>Many types of spam</p>
<ul>
<li>e.g. spamdexing or term spam, link spam, “optimization”</li>
</ul>
<p>New subfield called <em>adversarial IR</em>, since spammers are “adversaries” with different goals</p>
<h1 id="Architecture-of-a-search-engine"><a href="#Architecture-of-a-search-engine" class="headerlink" title="Architecture of a search engine"></a>Architecture of a search engine</h1><p>A software architecture consists of software components, the interfaces provided by those components, and the relationships between them</p>
<ul>
<li>describes a system at a particular level of abstraction</li>
</ul>
<p>Architecture of a search engine determined by 2 requirements</p>
<ul>
<li>effectiveness (quality of results) and </li>
<li>efficiency (response time and throughput)</li>
</ul>
<h2 id="Indexing-Process"><a href="#Indexing-Process" class="headerlink" title="Indexing Process"></a>Indexing Process</h2><p>Text acquisition</p>
<p>–identifies and stores documents for indexing</p>
<p>Text transformation</p>
<p>–transforms documents into <em>index terms</em> or <em>features</em></p>
<p>Index creation</p>
<p>–takes index terms and creates data structures (<em>indexes</em>) to support fast searching</p>
<p><img src="https://i.loli.net/2020/11/09/loka5fACBIXDj1L.png" alt="image.png"></p>
<h2 id="Query-Process"><a href="#Query-Process" class="headerlink" title="Query Process"></a>Query Process</h2><p>User interaction</p>
<p>–supports creation and refinement of query, display of results</p>
<p>Ranking</p>
<p>–uses query and indexes to generate ranked list of documents</p>
<p>Evaluation</p>
<p>–monitors and measures effectiveness and efficiency (primarily offline)</p>
<p><img src="https://i.loli.net/2020/11/09/XJ7rGvgw32zSQLm.png" alt="image.png"></p>
<h3 id="Details-Text-Acquisition"><a href="#Details-Text-Acquisition" class="headerlink" title="Details: Text Acquisition"></a>Details: Text Acquisition</h3><h4 id="Crawler"><a href="#Crawler" class="headerlink" title="Crawler"></a>Crawler</h4><p>Identifies and acquires documents for search engine</p>
<p>Many types – web, enterprise, desktop</p>
<p>Web crawlers follow <em>links</em> to find documents</p>
<ul>
<li><p>Must efficiently find huge numbers of web pages (<em>coverage</em>) and keep them up-to-date (<em>freshness</em>)</p>
</li>
<li><p>Single site crawlers for <em>site search</em></p>
</li>
<li><p><em>Topical</em> or <em>focused</em> crawlers for vertical search</p>
</li>
</ul>
<p><em>Document</em> crawlers for enterprise and desktop search</p>
<ul>
<li>Follow links and scan directories</li>
</ul>
<h4 id="Feeds"><a href="#Feeds" class="headerlink" title="Feeds"></a>Feeds</h4><p>Real-time streams of documents</p>
<ul>
<li>e.g., web feeds for news, blogs, video, radio, tv</li>
</ul>
<p>RSS is common standard</p>
<ul>
<li>RSS “reader” can provide new XML documents to search engine</li>
</ul>
<h4 id="Conversion"><a href="#Conversion" class="headerlink" title="Conversion"></a>Conversion</h4><p>Convert variety of documents into a consistent text plus metadata format</p>
<ul>
<li>e.g. HTML, XML, Word, PDF, etc. → XML</li>
</ul>
<p>Convert text encoding for different languages</p>
<ul>
<li>Using a Unicode standard like UTF-8</li>
</ul>
<h4 id="Document-data-store"><a href="#Document-data-store" class="headerlink" title="Document data store"></a>Document data store</h4><p>Stores text, metadata, and other related content for documents </p>
<ul>
<li><p>Metadata is information about document such as type and creation date</p>
</li>
<li><p>Other content includes links, anchor text</p>
</li>
</ul>
<p>Provides fast access to document contents for search engine components</p>
<ul>
<li>e.g. result list generation</li>
</ul>
<p>Could use relational database system </p>
<ul>
<li>More typically, a simpler, more efficient storage system is used due to huge numbers of documents</li>
</ul>
<h3 id="Text-Transformation"><a href="#Text-Transformation" class="headerlink" title="Text Transformation"></a>Text Transformation</h3><h4 id="Parser"><a href="#Parser" class="headerlink" title="Parser"></a>Parser</h4><p>Processing the sequence of text <em>tokens</em> in the document to recognize structural elements</p>
<ul>
<li>e.g., titles, links, headings, etc.</li>
</ul>
<p><em>Tokenizer</em> recognizes “words” in the text</p>
<ul>
<li>must consider issues like capitalization, hyphens, apostrophes, non-alpha characters, separators</li>
</ul>
<p><em>Markup languages</em> such as HTML, XML often used to specify structure</p>
<ul>
<li><em>Tags</em> used to specify document <em>elements</em></li>
</ul>
<p>E.g., </p><h2> Overview </h2><p></p>
<ul>
<li>Document parser uses <em>syntax</em> of markup language (or other formatting) to identify structure</li>
</ul>
<h4 id="Stopping"><a href="#Stopping" class="headerlink" title="Stopping"></a>Stopping</h4><p>Remove common words</p>
<ul>
<li>e.g., “and”, “or”, “the”, “in”</li>
</ul>
<p>Some impact on efficiency and effectiveness</p>
<p>Can be a problem for some queries</p>
<h4 id="Stemming"><a href="#Stemming" class="headerlink" title="Stemming"></a>Stemming</h4><p>Group words derived from a common <em>stem</em></p>
<ul>
<li>e.g., “computer”, “computers”, “computing”, “compute”</li>
</ul>
<p>Usually effective, but not for all queries</p>
<p>Benefits vary for different languages</p>
<h4 id="Link-Analysis"><a href="#Link-Analysis" class="headerlink" title="Link Analysis"></a>Link Analysis</h4><p>Makes use of <em>links</em> and <em>anchor text</em> in web pages</p>
<p>Link analysis identifies <em>popularity</em> and <em>community</em> information</p>
<ul>
<li>e.g., PageRank</li>
</ul>
<p>Anchor text can significantly enhance the representation of pages pointed to by links</p>
<p>Significant impact on web search</p>
<ul>
<li>Less importance in other applications</li>
</ul>
<h4 id="Information-Extraction"><a href="#Information-Extraction" class="headerlink" title="Information Extraction"></a>Information Extraction</h4><p>Identify classes of index terms that are important for some applications</p>
<p>e.g., <em>named entity recognizers</em> identify classes such as <em>people</em>, <em>locations</em>, <em>companies</em>, <em>dates,</em> etc.</p>
<h4 id="Classifier"><a href="#Classifier" class="headerlink" title="Classifier"></a>Classifier</h4><p>Identifies class-related metadata for documents</p>
<ul>
<li><p>i.e., assigns labels to documents</p>
</li>
<li><p>e.g., topics, reading levels, sentiment, genre</p>
</li>
</ul>
<p>Use depends on application</p>
<h3 id="Index-Creation"><a href="#Index-Creation" class="headerlink" title="Index Creation"></a>Index Creation</h3><h4 id="Document-Statistics"><a href="#Document-Statistics" class="headerlink" title="Document Statistics"></a>Document Statistics</h4><ul>
<li><p>Gathers counts and positions of words and other features</p>
</li>
<li><p>Used in ranking algorithm</p>
</li>
</ul>
<h4 id="Weighting"><a href="#Weighting" class="headerlink" title="Weighting"></a>Weighting</h4><ul>
<li><p>Computes weights for index terms</p>
</li>
<li><p>Used in ranking algorithm</p>
</li>
</ul>
<p>e.g., <em>tf.idf</em> weight</p>
<ul>
<li>Combination of <em>term frequency</em> in document and <em>inverse document frequency</em> in the collection</li>
</ul>
<h4 id="Inversion"><a href="#Inversion" class="headerlink" title="Inversion"></a>Inversion</h4><p>–Core of indexing process</p>
<p>–Converts document-term information to term-document for indexing</p>
<p>•Difficult for very large numbers of documents</p>
<p>–Format of inverted file is designed for fast query processing</p>
<p>•Must also handle updates</p>
<p>•Compression used for efficiency</p>
<h4 id="Index-Distribution"><a href="#Index-Distribution" class="headerlink" title="Index Distribution"></a>Index Distribution</h4><p>–Distributes indexes across multiple computers and/or multiple sites</p>
<p>–Essential for fast query processing with large numbers of documents</p>
<p>–Many variations</p>
<p>•Document distribution, term distribution, replication</p>
<p>–<em>P2P</em> and <em>distributed IR</em> involve search across multiple sites</p>
<h3 id="User-Interaction"><a href="#User-Interaction" class="headerlink" title="User Interaction"></a>User Interaction</h3><h4 id="Query-input"><a href="#Query-input" class="headerlink" title="Query input"></a>Query input</h4><p>–Provides interface and parser for <em>query language</em></p>
<p>–Most web queries are very simple, other applications may use forms</p>
<p>–Query language used to describe more complex queries and results of query transformation</p>
<p>•e.g., Boolean queries, Indri and Galago query languages</p>
<p>• similar to SQL language used in database applications</p>
<p>•IR query languages also allow content and structure specifications, but focus on content</p>
<h4 id="Query-transformation"><a href="#Query-transformation" class="headerlink" title="Query transformation"></a>Query transformation</h4><p>–Improves initial query, both before and after initial search</p>
<p>–Includes text transformation techniques used for documents</p>
<p>–<em>Spell checking</em> and <em>query suggestion</em> provide alternatives to original query</p>
<p>–<em>Query expansion</em> and <em>relevance feedback</em> modify the original query with additional terms</p>
<h4 id="Results-output"><a href="#Results-output" class="headerlink" title="Results output"></a>Results output</h4><p>–Constructs the display of ranked documents for a query</p>
<p>–Generates <em>snippets</em> to show how queries match documents</p>
<p>–<em>Highlights</em> important words and passages</p>
<p>–Retrieves appropriate <em>advertising</em> in many applications</p>
<p>–May provide <em>clustering</em> and other visualization tools</p>
<h3 id="Ranking"><a href="#Ranking" class="headerlink" title="Ranking"></a>Ranking</h3><h4 id="Scoring"><a href="#Scoring" class="headerlink" title="Scoring"></a>Scoring</h4><p>–Calculates scores for documents using a ranking algorithm</p>
<p>–Core component of search engine</p>
<p>–Basic form of score is $\sum q_i d_i$</p>
<ul>
<li>$q_i, d_i$ are query and document term weights for term i</li>
</ul>
<p>–Many variations of ranking algorithms and retrieval models</p>
<h4 id="Performance-optimization"><a href="#Performance-optimization" class="headerlink" title="Performance optimization"></a>Performance optimization</h4><p>–Designing ranking algorithms for efficient processing</p>
<p>•<em>Term-at-a time</em> vs. <em>document-at-a-time</em> processing</p>
<p>•<em>Safe</em> vs. <em>unsafe</em> optimizations</p>
<h4 id="Distribution"><a href="#Distribution" class="headerlink" title="Distribution"></a>Distribution</h4><p>–Processing queries in a distributed environment</p>
<p>–<em>Query broker</em> distributes queries and assembles results</p>
<p>–<em>Caching</em> is a form of distributed searching</p>
<h3 id="Evaluation-1"><a href="#Evaluation-1" class="headerlink" title="Evaluation"></a>Evaluation</h3><h4 id="Logging"><a href="#Logging" class="headerlink" title="Logging"></a>Logging</h4><p>–Logging user queries and interaction is crucial for improving search effectiveness and efficiency</p>
<p>–<em>Query logs</em> and <em>clickthrough</em> <em>data</em> used for query suggestion, spell checking, query caching, ranking, advertising search, and other components</p>
<h4 id="Ranking-analysis"><a href="#Ranking-analysis" class="headerlink" title="Ranking analysis"></a>Ranking analysis</h4><p>–Measuring and tuning ranking effectiveness</p>
<h4 id="Performance-analysis"><a href="#Performance-analysis" class="headerlink" title="Performance analysis"></a>Performance analysis</h4><p>–Measuring and tuning system efficiency</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nobugs.dev/2020/10/28/UCI-Network%20Programming/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinyi Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyi's gadget">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/10/28/UCI-Network%20Programming/" itemprop="url">Network Programming</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-10-28T18:37:23-07:00">
                2020-10-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/NetworkProgramming/" itemprop="url" rel="index">
                    <span itemprop="name">NetworkProgramming</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/10/28/UCI-Network%20Programming/" class="leancloud_visitors" data-flag-title="Network Programming">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2.3k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  14
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Basic-Network-Concepts"><a href="#Basic-Network-Concepts" class="headerlink" title="Basic Network Concepts"></a>Basic Network Concepts</h1><p><strong>Conceptual knowledge</strong></p>
<p>The layers of a network</p>
<p>Differences between IP, TCP, and UDP layers</p>
<p>Basic understanding of IP addresses and ports</p>
<p>Basic understanding of network routing mechanisms</p>
<h2 id="Networks"><a href="#Networks" class="headerlink" title="Networks"></a>Networks</h2><p>A <em>network</em> is a collection of computers and other devices that can send data to and receive data from each other, more or less in real time. A network is often connected by wires, and the bits of data are turned into electromagnetic waves that move through the wires. </p>
<p>Each machine on a network is called a <em>node</em>. Most nodes are computers, but printers, routers, bridges, gateways, dumb terminals, and Coca-Cola™ machines can also be nodes. Nodes that are fully functional computers are also called <em>hosts</em>. We will use the word node to refer to any device on the network, and the word host to refer to a node that is a general-purpose computer.</p>
<h2 id="The-Layers-of-a-Network"><a href="#The-Layers-of-a-Network" class="headerlink" title="The Layers of a Network"></a>The Layers of a Network</h2><p><img src="https://i.loli.net/2020/10/28/xfVgSC9y6HsO2jq.png" alt="image.png"></p>
<h3 id="The-Host-to-Network-Layer"><a href="#The-Host-to-Network-Layer" class="headerlink" title="The Host-to-Network Layer"></a>The Host-to-Network Layer</h3><p>In the standard reference model for IP-based Internets (the only kind of network Java really understands), the hidden parts of the network belong to the host-to-network layer (also known as the link layer, data link layer, or network interface layer). </p>
<p>The most common data link layer is Ethernet. Other popular data link layers include TokenRing, PPP, and Wireless Ethernet (802.11).</p>
<h3 id="The-Internet-Layer"><a href="#The-Internet-Layer" class="headerlink" title="The Internet Layer"></a>The Internet Layer</h3><p>A network layer protocol defines how bits and bytes of data are organized into the larger groups called packets, and the addressing scheme by which different machines find each other. The Internet Protocol (IP) is the most widely used network layer protocol in the world and the only network layer protocol Java understands.</p>
<p>Data is sent across the internet layer in packets called datagrams.</p>
<p><img src="https://i.loli.net/2020/10/28/27ThaYzfCyXnlqJ.png" alt="image.png"></p>
<h3 id="The-Transport-Layer"><a href="#The-Transport-Layer" class="headerlink" title="The Transport Layer"></a>The Transport Layer</h3><p>The transport layer is responsible for ensuring that packets are received in the order they were sent and making sure that no data is lost or corrupted. If a packet is lost, the transport layer can ask the sender to retransmit the packet.</p>
<p>There are two primary protocols at this level. The first, the Transmission Control Protocol (TCP), is a high-overhead protocol that allows for retransmission of lost or corrupted data and delivery of bytes in the order they were sent. The second protocol, the User Datagram Protocol (UDP), allows the receiver to detect corrupted packets but does not guarantee that packets are delivered in the correct order (or at all). However, UDP is often much faster than TCP. </p>
<p>TCP is called a reliable protocol; UDP is an unreliable protocol.</p>
<h3 id="The-Application-Layer"><a href="#The-Application-Layer" class="headerlink" title="The Application Layer"></a>The Application Layer</h3><p>The layer that delivers data to the user is called the application layer. The three lower layers all work together to define how data is transferred from one computer to another.</p>
<p>The application layer is where most of the network parts of your programs spend their time.</p>
<p>HTTP for the Web, there are SMTP, POP, and IMAP for email; FTP, FSP, and TFTP for file transfer; NFS for file access; NNTP for news transfer; Gnutella, FastTrack, and Freenet for file sharing;</p>
<h2 id="IP-TCP-and-UDP"><a href="#IP-TCP-and-UDP" class="headerlink" title="IP, TCP, and UDP"></a>IP, TCP, and UDP</h2><p>IP, the Internet protocol, was designed to allow multiple routes between any two points and to route packets of data around damaged routers.</p>
<p>IP had to be open and platform-independent</p>
<p>To improve on the basicscheme, TCP was layered on top of IP to give each end of a connection the ability to acknowledge receipt of IP packets and request retransmission of lost or corrupted packets. Furthermore, TCP allows the packets to be put back together on the receiving end in the same order they were sent.</p>
<p>UDP is an unreliable protocol that does not guarantee that packets will arrive at their destination or that they will arrive in the same order they were sent.</p>
<p>A number of other protocols can run on top of IP. The most commonly requested is ICMP, the Internet Control Message Protocol, which uses raw IP datagrams to relay error messages between hosts. The best-known use of this protocol is in the ping program</p>
<p> IP Addresses and Domain Names</p>
<p>Every computer attached to an IPv4 network has a unique four-byte address. When data is transmitted across the network, the packet’s header includes the address of the machine for which the packet is intended (the destination address) and the address of the machine that sent the packet (the source address). Routers along the way choose the best route to send the packet along by inspecting the destination address. The source address is included so the recipient will know who to reply to. </p>
<p>A slow transition is under way to IPv6, which will use 16-byte addresses. IPv6 addresses are customarily written in eight blocks of four hexadecimal digits separated by colons, such as FEDC:BA98:7654:3210:FEDC:BA98:7654:3210.</p>
<p>Although computers are very comfortable with numbers, human beings aren’t very good at remembering them. Therefore the Domain Name System (DNS) was developed to translate hostnames that humans can remember (like <a href="http://www.oreilly.com" target="_blank" rel="noopener">www.oreilly.com</a>) into numericInternet addresses (like 208.201.239.37).</p>
<p>Some computers, especially servers, have fixed addresses</p>
<h3 id="Ports"><a href="#Ports" class="headerlink" title="Ports"></a>Ports</h3><p>modern computers do many different things at once. Email needs to be separated from FTP requests, which need to be separated from web traffic. This is accomplished through <em>ports</em>. Each port is identified by a number between 1 and 65,535. Each port can be allocated to a particular service.</p>
<p>Port numbers between 1 and 1,023 are reserved for well-known services like finger, FTP, HTTP, and IMAP.</p>
<h2 id="The-Internet"><a href="#The-Internet" class="headerlink" title="The Internet"></a>The Internet</h2><p>The Internet is the world’s largest IP-based network. </p>
<h3 id="Internet-Address-Classes"><a href="#Internet-Address-Classes" class="headerlink" title="Internet Address Classes"></a>Internet Address Classes</h3><div class="table-container">
<table>
<thead>
<tr>
<th>Class</th>
<th><strong>Leading bits</strong></th>
<th><strong>Start</strong> address</th>
</tr>
</thead>
<tbody>
<tr>
<td>Class A</td>
<td>0</td>
<td>0.0.0.0</td>
</tr>
<tr>
<td>Class B</td>
<td>10</td>
<td>128.0.0.0</td>
</tr>
<tr>
<td>Class C</td>
<td>110</td>
<td>192.0.0.0</td>
</tr>
<tr>
<td>Class D (multicast)</td>
<td>1110</td>
<td>224.0.0.0</td>
</tr>
<tr>
<td>Class E</td>
<td>11110</td>
</tr>
</tbody>
</table>
</div>
<p>To more efficiently allocate the limited address space, Classless Inter-Domain Routing (CIDR) was invented. CIDR mostly (though not completely) replaces the whole A, B, C, D, E addressing scheme with one based on a specified numbers of prefix bits. These prefixes are generally written as /nn, where nn is a two-digit number specifying the number of bits in the network portion of the address.</p>
<p>begin with 10., 172.16. through 172.31., and 192.168. These non-routable addresses are useful for building private networks that can’t be seen from the rest of the Internet or for building a large network when you’ve only been assigned a class C address block. </p>
<p>IPv4 addresses beginning with 127 (most commonly 127.0.0.1) always mean the <em>local loopback address</em>.</p>
<p>The hostname for this address is generally <em>localhost</em>. In IPv6 0:0:0:0:0:0:0:1 (a.k.a. ::1) is the loopback address. </p>
<h3 id="Network-Address-Translation"><a href="#Network-Address-Translation" class="headerlink" title="Network Address Translation"></a>Network Address Translation</h3><p>Rather than allotting even a /28, my ISP gives me a single address</p>
<p>The router watches my outgoing and incoming connections and adjusts the addresses in the IP packets.</p>
<p>You just need to remember that the external and internal addresses may not be the same. </p>
<h3 id="Firewalls"><a href="#Firewalls" class="headerlink" title="Firewalls"></a>Firewalls</h3><p>The hardware and software that sit between the Internet and the local network, checking all the data that comes in or out to make sure it’s kosher, is called a <em>firewall</em>.</p>
<h3 id="Proxy-Servers"><a href="#Proxy-Servers" class="headerlink" title="Proxy Servers"></a>Proxy Servers</h3><p><em>Proxy servers</em> are related to firewalls. If a firewall prevents hosts on a network from making direct connections to the outside world, a proxy server can act as a go between.</p>
<p>Thus, a machine that is prevented from connecting to the external network by a firewall would make a request for a web page from the local proxy server instead of requesting the web page directly from the remote web server.</p>
<p>While firewalls generally operate at the level of the transport or internet layer, proxy servers normally operate at the application layer.</p>
<p>Proxy servers can also be used to implement local caching. </p>
<p>The biggest problem with proxy servers is their inability to cope with all but a few protocols. </p>
<h3 id="The-Client-Server-Model"><a href="#The-Client-Server-Model" class="headerlink" title="The Client/Server Model"></a>The Client/Server Model</h3><p>Most modern network programming is based on a client/server model. A client/ server application typically stores large quantities of data on an expensive, high-powered server while most of the program logic and the user-interface is handled by client software running on relatively cheap personal computers. </p>
<p><img src="https://i.loli.net/2020/10/28/ASdsnWaYxKGrPVc.png" alt="image.png"></p>
<h1 id="Basic-Web-Concepts"><a href="#Basic-Web-Concepts" class="headerlink" title="Basic Web Concepts"></a>Basic Web Concepts</h1><h2 id="URNs"><a href="#URNs" class="headerlink" title="URNs"></a>URNs</h2><p>The Hypertext Transfer Protocol (HTTP) is a standard that defines how a web client talks to a server and how data is transferred from the server back to the client. The architecture and design of the HTTP protocol is Representational State Transfer (REST). </p>
<p>Filenames on many platforms often contain characters that need to be encoded, including @, $, +, =, and many more.</p>
<h2 id="URIs"><a href="#URIs" class="headerlink" title="URIs"></a>URIs</h2><p>There are two types of URIs: Uniform Resource Locators (URLs) and Uniform Resource Names (URNs). A URL is a pointer to a particular resource on the Internet at a particular location. For example, <a href="http://www.oreilly.com/catalog/javanp3/" target="_blank" rel="noopener">http://www.oreilly.com/catalog/javanp3/</a> is one of several URLs for the book Java Network Programming. </p>
<p>A URN is a name for a particular resource but without reference to a particular location. For instance, urn:isbn: 1565928709 is a URN referring to the same book.</p>
<p>A URN has the general form: </p>
<p>urn:namespace:resource_name</p>
<h2 id="URLs"><a href="#URLs" class="headerlink" title="URLs"></a>URLs</h2><p>A URL identifies the location of a resource on the Internet. It specifies the protocol used to access a server (e.g., FTP, HTTP), the name of the server, and the location of a file on that server. </p>
<p>The syntax of a URL is: protocol://username@hostname:port/path/filename?query#fragment</p>
<p>The <em>hostname</em> part of a URL is the name of the server that provides the resource you want, such as <a href="http://www.oreilly.com" target="_blank" rel="noopener">www.oreilly.com</a> or utopia.poly.edu. It can also be the server’s IP address, such as 204.148.40.9 or 128.238.3.21. The <em>username</em> is an optional username for the server. The port number is also optional. It’s not necessary if the service is running on its default port (port 80 for HTTP servers).</p>
<p>The <em>path</em> points to a particular directory on the specified server. </p>
<p>The <em>query</em> string provides additional arguments for the server.</p>
<p>Finally, the <em>fragment</em> references a particular part of the remote resource. </p>
<h2 id="Relative-URLs"><a href="#Relative-URLs" class="headerlink" title="Relative URLs"></a>Relative URLs</h2><p>A URL may inherit the protocol, hostname, and path of its parent document. URLs that aren’t complete but inherit pieces from their parent are called <em>relative</em> URLs.</p>
<p>In contrast, a completely specified URL is called an <em>absolute</em> URL. </p>
<p>Relative URLs have a number of advantages. First—and least important—they save a little typing. More importantly, relative URLs allow a single document tree to be served by multiple protocols</p>
<p> HTML, SGML, and XML</p>
<p>HTML is the primary format used for Web documents. HTML is a simple standard for describing the semantic content of textual data.</p>
<p>The entire text from the beginning of the start-tag to the end of the end-tag is called an element. Thus, <strong>this text is strong</strong> is a STRONG element.</p>
<p>SGML and, by inheritance, HTML are based on the notion of design by meaning rather than design by appearance.</p>
<p>new development will focus on XML, a semantic language that allows page authors to create the elements they need rather than relying on a few fixed elements such as P and LI.</p>
<p>XML tightens all this up. It lays out very strict requirements for the syntax of a wellformed XML document, and it requires that browsers reject all malformed documents.</p>
<h1 id="Streams"><a href="#Streams" class="headerlink" title="Streams"></a>Streams</h1><p><strong>Conceptual knowledge</strong></p>
<p>Understanding of the input/output streams </p>
<p>Understanding of the use of threading model in the construction of input/output streams</p>
<p><strong>Practical knowledge in Java</strong></p>
<p>How to instantiate different types of input/output streams in Java</p>
<p>How to use input/output streams in Java to read/write to a file</p>
<p>How to use the concurrency mechanisms in the construction of reader and writer functionality</p>
<p>I/O in Java is built on streams. Input streams read data; output streams write data.</p>
<h2 id="Output-Streams"><a href="#Output-Streams" class="headerlink" title="Output Streams"></a>Output Streams</h2><p> Java’s basic output class is java.io.OutputStream: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public abstract class OutputStream</span><br></pre></td></tr></table></figure>
<p>This class provides the fundamental methods needed to write data. These are: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public abstract void write(int b) throws IOException </span><br><span class="line">public void write(byte[] data) throws IOException </span><br><span class="line">public void write(byte[] data, int offset, int length) throws IOException</span><br><span class="line">public void flush( ) throws IOException </span><br><span class="line">public void close( ) throws IOException</span><br></pre></td></tr></table></figure>
<h2 id="Input-Streams"><a href="#Input-Streams" class="headerlink" title="Input Streams"></a>Input Streams</h2><p>Java’s basic input class is java.io.InputStream: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public abstract class InputStream</span><br></pre></td></tr></table></figure>
<p>This class provides the fundamental methods needed to read data as raw bytes. These are: </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public abstract int read( ) throws IOException </span><br><span class="line">public int read(byte[] input) throws IOException </span><br><span class="line">public int read(byte[] input, int offset, int length) throws IOException </span><br><span class="line">public long skip(long n) throws IOException </span><br><span class="line">public int available( ) throws IOException </span><br><span class="line">public void close( ) throws IOException</span><br></pre></td></tr></table></figure>
<h2 id="Filter-Streams"><a href="#Filter-Streams" class="headerlink" title="Filter Streams"></a>Filter Streams</h2><p>The filters come in two versions: the filter streams and the readers and writers.<br>The readers and writers handle the special case of text in a variety of encodings such as UTF-8 and ISO 8859-1.<br>A BufferedInputStream buffers the data to speed up the entire process.<br>Every filter output stream has the same write( ), close( ), and flush( ) methods as java.io.OutputStream. Every filter input stream has the same read( ), close( ), and available( ) methods as java.io.InputStream.</p>
<p><img src="https://i.loli.net/2020/10/28/xrTfznm5ky3WJGP.png" alt="image.png"></p>
<h3 id="Readers-and-Writers"><a href="#Readers-and-Writers" class="headerlink" title="Readers and Writers"></a>Readers and Writers</h3><p>In this mirror image hierarchy, two abstract superclasses define the basic API for reading and writing characters. The java.io.Reader class specifies the API by which characters are read. The java.io.Writer class specifies the API by which characters are written. </p>
<p>The most important concrete subclasses of Reader and Writer are the InputStreamReader and the OutputStreamWriter classes.</p>
<p>In addition to these two classes, the java.io package provides several raw reader and writer classes that read characters without directly requiring an underlying input stream, including:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">FileReader </span><br><span class="line">FileWriter </span><br><span class="line">StringReader </span><br><span class="line">StringWriter </span><br><span class="line">CharArrayReader </span><br><span class="line">CharArrayWriter</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nobugs.dev/2020/10/21/UCI-DataStructure1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinyi Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyi's gadget">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/10/21/UCI-DataStructure1/" itemprop="url">Data Structure</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-10-21T18:37:23-07:00">
                2020-10-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DataStructure/" itemprop="url" rel="index">
                    <span itemprop="name">DataStructure</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/10/21/UCI-DataStructure1/" class="leancloud_visitors" data-flag-title="Data Structure">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2.6k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  16
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Algorithm-Analysis"><a href="#Algorithm-Analysis" class="headerlink" title="Algorithm Analysis"></a>Algorithm Analysis</h1><h2 id="The-RAM-model-of-computation"><a href="#The-RAM-model-of-computation" class="headerlink" title="The RAM model of computation"></a>The RAM model of computation</h2><p>Machine-independent algorithm design depends upon a hypothetical computer called the Random Access Machine or RAM. Under this model of computation, we are confronted with a computer where:</p>
<ul>
<li>Each simple operation (+, *, –, =, if, call) takes exactly one time step. </li>
<li>Loops and subroutines are not considered simple operations.</li>
</ul>
<h2 id="The-Big-Oh-Notation"><a href="#The-Big-Oh-Notation" class="headerlink" title="The Big Oh Notation"></a>The Big Oh Notation</h2><ul>
<li>$f(n)=O(g(n))$ means $c \cdot g(n)$ is an <em>upper bound</em> on f(n). Thus there exists some constant $c$ such that $f(n)$ is always $\leq c \cdot g(n)$, for large enough $n$ (i.e. , $n \geq n_0$ for some constant $n_0$).</li>
<li>$f(n)=\Omega(g(n))$ means $c \cdot g(n)$ is an <em>lower bound</em> on f(n). Thus there exists some constant $c$ such that $f(n)$ is always $\geq c \cdot g(n)$, for all $n\geq n_0$.</li>
<li>$f(n)=\Theta(g(n))$ means $c_1 \cdot g(n)$ is an <em>upper bound</em> on f(n),  $c_2 \cdot g(n)$ is an <em>lower bound</em> on f(n).  Thus there exist constants $c_1$ and $c_2$ such that $f(n) \leq c_1 ·g(n)$ and $f(n) \geq c_2 ·g(n)$. This means that $g(n)$ provides a nice, tight bound on $f(n)$.</li>
</ul>
<p>Note: The Big Oh notation and worst-case analysis are tools that greatly simplify our ability to compare the efficiency of algorithms.</p>
<h2 id="Dominance-Relations"><a href="#Dominance-Relations" class="headerlink" title="Dominance Relations"></a>Dominance Relations</h2><p>$n! &gt; 2^n &gt; n^3 &gt; n\log n &gt; n &gt; \log n &gt; 1$</p>
<h2 id="Working-with-the-Big-Oh"><a href="#Working-with-the-Big-Oh" class="headerlink" title="Working with the Big Oh"></a>Working with the Big Oh</h2><h3 id="Adding-functions"><a href="#Adding-functions" class="headerlink" title="Adding functions"></a>Adding functions</h3><ul>
<li>$O(f(n)) + O(g(n)) \rightarrow O(max(f(n),g(n)))$</li>
<li>$\Omega(f(n)) + \Omega(g(n)) \rightarrow \Omega(max(f(n),g(n)))$</li>
<li>$\Theta(f(n)) + \Theta(g(n)) \rightarrow \Theta(max(f(n),g(n)))$</li>
</ul>
<h3 id="Multiplying-functions"><a href="#Multiplying-functions" class="headerlink" title="Multiplying functions"></a>Multiplying functions</h3><ul>
<li>$O(c · f(n)) \rightarrow O(f(n))$</li>
<li>$\Omega(c · f(n)) \rightarrow \Omega(f(n))$</li>
<li>$\Theta(c · f(n)) \rightarrow \Theta(f(n))$</li>
<li>$O(f(n)) ∗ O(g(n)) \rightarrow O(f(n) ∗ g(n))$</li>
<li>$\Omega(f(n)) ∗ \Omega(g(n)) \rightarrow \Omega(f(n) ∗ g(n))$</li>
<li>$\Theta(f(n)) ∗ \Theta(g(n)) \rightarrow \Theta(f(n) ∗ g(n))$</li>
</ul>
<h2 id="Limits-and-Dominance-Relations"><a href="#Limits-and-Dominance-Relations" class="headerlink" title="Limits and Dominance Relations"></a>Limits and Dominance Relations</h2><p>We say that $f(n)$ dominates $g(n)$ if $limn_{→\infty} g(n)/f(n) = 0.$</p>
<h1 id="Data-Structures"><a href="#Data-Structures" class="headerlink" title="Data Structures"></a>Data Structures</h1><h2 id="Contiguous-vs-Linked-Data-Structures"><a href="#Contiguous-vs-Linked-Data-Structures" class="headerlink" title="Contiguous vs. Linked Data Structures"></a>Contiguous vs. Linked Data Structures</h2><p>Data structures can be neatly classified as either contiguous or linked, depending upon whether they are based on arrays or pointers:</p>
<ul>
<li><em>Contiguously-allocated structures</em> are composed of single slabs of memory, and include arrays, matrices, heaps, and hash tables. </li>
<li><em>Linked data structures</em> are composed of distinct chunks of memory bound together by pointers, and include lists, trees, and graph adjacency lists.</li>
</ul>
<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><p>The <em>array</em> is the fundamental contiguously-allocated data structure. Arrays are structures of fixed-size data records such that each element can be efficiently located by its <em>index</em> or (equivalently) address.</p>
<h4 id="Advantages"><a href="#Advantages" class="headerlink" title="Advantages"></a>Advantages</h4><ul>
<li><em>Constant-time access given the index</em> – Because the index of each element maps directly to a particular memory address, we can access arbitrary data items instantly provided we know the index. </li>
<li><em>Space efficiency</em> – Arrays consist purely of data, so no space is wasted with links or other formatting information. Further, end-of-record information is not needed because arrays are built from fixed-size records. </li>
<li><em>Memory locality</em> – A common programming idiom involves iterating through all the elements of a data structure. Arrays are good for this because they exhibit excellent memory locality. Physical continuity between successive data accesses helps exploit the high-speed cache memory on modern computer architectures.</li>
</ul>
<h4 id="Disadvantages"><a href="#Disadvantages" class="headerlink" title="Disadvantages"></a>Disadvantages</h4><p>We cannot adjust their size in the middle of a program’s execution.</p>
<h3 id="Pointers-and-Linked-Structures"><a href="#Pointers-and-Linked-Structures" class="headerlink" title="Pointers and Linked Structures"></a>Pointers and Linked Structures</h3><p><em>Pointers</em> are the connections that hold the pieces of linked structures together. Pointers represent the address of a location in memory.</p>
<p>Pointer syntax and power differ significantly across programming languages.</p>
<h4 id="Advantages-1"><a href="#Advantages-1" class="headerlink" title="Advantages"></a>Advantages</h4><ul>
<li>Overflow on linked structures can never occur unless the memory is actually full.</li>
<li>Insertions and deletions are simpler than for contiguous (array) lists. </li>
<li>With large records, moving pointers is easier and faster than moving the items themselves.</li>
</ul>
<h4 id="Disadvantages-1"><a href="#Disadvantages-1" class="headerlink" title="Disadvantages"></a>Disadvantages</h4><ul>
<li>Linked structures require extra space for storing pointer fields. </li>
<li>Linked lists do not allow efficient random access to items.</li>
<li>Arrays allow better memory locality and cache performance than random pointer jumping.</li>
</ul>
<p>Note: Dynamic memory allocation provides us with flexibility on how and where we use our limited storage resources.</p>
<p>One final thought about these fundamental structures is that they can be thought of as recursive objects: </p>
<ul>
<li>Lists – Chopping the first element off a linked list leaves a smaller linked list. This same argument works for strings, since removing characters from string leaves a string. Lists are recursive objects. </li>
<li>Arrays – Splitting the first k elements off of an n element array gives two smaller arrays, of size k and n − k, respectively. Arrays are recursive objects.</li>
</ul>
<h2 id="Stacks-and-Queues"><a href="#Stacks-and-Queues" class="headerlink" title="Stacks and Queues"></a>Stacks and Queues</h2><ul>
<li>Stacks – Support retrieval by last-in, first-out (LIFO) order. Stacks are simple to implement and very efficient. <ul>
<li><code>Push(x,s)</code>: Insert item x at the top of stack s.</li>
<li><code>Pop(s)</code>: Return (and remove) the top item of stack s</li>
</ul>
</li>
<li>Queues – Support retrieval in first in, first out (FIFO) order. This is surely the fairest way to control waiting times for services. You want the container holding jobs to be processed in FIFO order to minimize the maximum time spent waiting. Note that the average waiting time will be the same regardless of whether FIFO or LIFO is used. <ul>
<li><code>Enqueue(x,q)</code>: Insert item x at the back of queue q. </li>
<li><code>Dequeue(q)</code>: Return (and remove) the front item from queue q.</li>
</ul>
</li>
</ul>
<h2 id="Dictionaries"><a href="#Dictionaries" class="headerlink" title="Dictionaries"></a>Dictionaries</h2><p>The dictionary data type permits access to data items by content. You stick an item into a dictionary so you can find it when you need it. The primary operations of dictionary support are: </p>
<ul>
<li><code>Search(D,k)</code> – Given a search key k, return a pointer to the element in dictionary D whose key value is k, if one exists.</li>
<li><code>Insert(D,x)</code> – Given a data item x, add it to the set in the dictionary D. </li>
<li><code>Delete(D,x)</code> – Given a pointer to a given data item x in the dictionary D, remove it from D.</li>
</ul>
<h2 id="Binary-Search-Trees"><a href="#Binary-Search-Trees" class="headerlink" title="Binary Search Trees"></a>Binary Search Trees</h2><p>A binary search tree labels each node in a binary tree with a single key such that for any node labeled $x$, all nodes in the left subtree of x have keys &lt; $x$ while all nodes in the right subtree of x have keys &gt; $x$.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>Best Case</th>
<th>Average Case</th>
<th>Worst Case</th>
</tr>
</thead>
<tbody>
<tr>
<td>Insert</td>
<td>$O(1)$</td>
<td>$O(\log h)$</td>
<td>$O(h)$</td>
</tr>
<tr>
<td>Delete</td>
<td>$O(1)$</td>
<td>$O(\log h)$</td>
<td>$O(h)$</td>
</tr>
<tr>
<td>Search</td>
<td>$O(1)$</td>
<td>$O(\log h)$</td>
<td>$O(h)$</td>
</tr>
<tr>
<td>Traversal</td>
<td>$O(1)$</td>
<td>$O(\log h)$</td>
<td>$O(h)$</td>
</tr>
</tbody>
</table>
</div>
<h3 id="Balanced-Search-Trees"><a href="#Balanced-Search-Trees" class="headerlink" title="Balanced Search Trees"></a>Balanced Search Trees</h3><p>balanced binary search tree data structures have been developed that guarantee the height of the tree always to be O(log n). Therefore, all dictionary operations (insert, delete, query) take O(log n) time each.</p>
<h2 id="Priority-Queues"><a href="#Priority-Queues" class="headerlink" title="Priority Queues"></a>Priority Queues</h2><p>Priority queues are data structures that provide more flexibility than simple sorting, because they allow new elements to enter a system at arbitrary intervals. It is much more cost-effective to insert a new job into a priority queue than to re-sort everything on each such arrival. The basic priority queue supports three primary operations: </p>
<ul>
<li>Insert(Q,x)– Given an item x with key k, insert it into the priority queue Q. </li>
<li>Find-Minimum(Q) or Find-Maximum(Q)– Return a pointer to the item whose key value is smaller (larger) than any other key in the priority queue Q. </li>
<li>Delete-Minimum(Q) or Delete-Maximum(Q)– Remove the item from the priority queue Q whose key is minimum (maximum).</li>
</ul>
<h2 id="Hashing-and-Strings"><a href="#Hashing-and-Strings" class="headerlink" title="Hashing and Strings"></a>Hashing and Strings</h2><p>Hash tables are a very practical way to maintain a dictionary. They exploit the fact that looking an item up in an array takes constant time once you have its index. A hash function is a mathematical function that maps keys to integers. We will use the value of our hash function as an index into an array, and store our item at that position.</p>
<p>The first step of the hash function is usually to map each key to a big integer. Let α be the size of the alphabet on which a given string S is written. Let char(c) be a function that maps each symbol of the alphabet to a unique integer from 0 to α − 1. The function</p>
<script type="math/tex; mode=display">
H(s) = \sum_{i=0}^{|S|-1} \alpha^{|S|-(i+1)}\times char(s_i)</script><p>maps each string to a unique (but large) integer by treating the characters of the string as “digits” in a base-α number system. The result is unique identifier numbers, but they are so large they will quickly exceed the number of slots in our hash table (denoted by m). We must reduce this number to an integer between 0 and m−1, by taking the remainder of $H(S) \mod m$.</p>
<h3 id="Collision-Resolution"><a href="#Collision-Resolution" class="headerlink" title="Collision Resolution"></a>Collision Resolution</h3><p>No matter how good our hash function is, we had better be prepared for collisions, because two distinct keys will occasionally hash to the same value.</p>
<ul>
<li><em>Chaining</em> is the easiest approach to collision resolution. The i-th list will contain all the items that hash to the value of i. Thus search, insertion, and deletion reduce to the corresponding problem in linked lists. If the n keys are distributed uniformly in a table, each list will contain roughly n/m elements, making them a constant size when m ≈ n.</li>
<li><em>Open addressing</em>. On an insertion, we check to see if the desired position is empty. If so, we insert it. If not, we must find some other place to insert it instead. The simplest possibility (called <em>sequential probing</em>) inserts the item in the next open spot in the table. If the table is not too full, the contiguous runs of items should be fairly small, hence this location should be only a few slots from its intended position.</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th>Hash Table (expected)</th>
<th>Hash Table (worst case)</th>
</tr>
</thead>
<tbody>
<tr>
<td>Search</td>
<td>$O(n/m)$</td>
<td>$O(n)$</td>
</tr>
<tr>
<td>Insert</td>
<td>$O(1)$</td>
<td>$O(1)$</td>
</tr>
<tr>
<td>Delete</td>
<td>$O(1)$</td>
<td>$O(1)$</td>
</tr>
<tr>
<td>Maximum/Minimum</td>
<td>$O(n + m)$</td>
<td>$O(n + m)$</td>
</tr>
</tbody>
</table>
</div>
<h1 id="Sorting-and-Searching"><a href="#Sorting-and-Searching" class="headerlink" title="Sorting and Searching"></a>Sorting and Searching</h1><p>Many important problems can be reduced to sorting, so we can use our clever $O(n \log n)$ algorithms to do work that might otherwise seem to require a quadratic algorithm. </p>
<h2 id="Applications-of-sorting"><a href="#Applications-of-sorting" class="headerlink" title="Applications of sorting"></a>Applications of sorting</h2><ul>
<li><em>Searching</em> - Binary search tests whether an item is in a dictionary in $O(\log n)$ time, provided the keys are all sorted. Search preprocessing is perhaps the single most important application of sorting.</li>
<li><em>Closest pair</em> - – Given a set of $n$ numbers, how do you find the pair of numbers that have the smallest difference between them?</li>
<li><em>Element uniqueness</em> – Are there any duplicates in a given set of $n$ items? This is a special case of the closest-pair problem above, where we ask if there is a pair separated by a gap of zero. The most efficient algorithm sorts the numbers and then does a linear scan though checking all adjacent pairs.</li>
<li><em>Frequency distribution</em> – Given a set of $n$ items, which element occurs the largest number of times in the set? If the items are sorted, we can sweep from left to right and count them, since all identical items will be lumped together during sorting.</li>
<li><em>Selection</em> – What is the kth largest item in an array?</li>
<li><em>Convex hulls</em> – What is the polygon of smallest area that contains a given set of n points in two dimensions?</li>
</ul>
<h2 id="Heapsort-Fast-Sorting"><a href="#Heapsort-Fast-Sorting" class="headerlink" title="Heapsort: Fast Sorting"></a>Heapsort: Fast Sorting</h2><h3 id="Selection-Sort"><a href="#Selection-Sort" class="headerlink" title="Selection Sort"></a>Selection Sort</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">SelectionSort(A)</span><br><span class="line">	For i &#x3D; 1 to n do</span><br><span class="line">        Sort[i] &#x3D; Find-Minimum from A</span><br><span class="line">        Delete-Minimum from A</span><br><span class="line">Return(Sort)</span><br></pre></td></tr></table></figure>
<h3 id="Heap-Sort"><a href="#Heap-Sort" class="headerlink" title="Heap Sort"></a>Heap Sort</h3><p>In this spirit, a <em>heap-labeled</em> tree is defined to be a binary tree such that the key labeling of each node <em>dominates</em> the key labeling of each of its children. In a <em>min-heap</em>, a node dominates its children by containing a smaller key than they do, while in a <em>max-heap</em> parent nodes dominate by being bigger. </p>
<h3 id="Insertion-Sort"><a href="#Insertion-Sort" class="headerlink" title="Insertion Sort"></a>Insertion Sort</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">InsertionSort(A)</span><br><span class="line">	A[0] &#x3D; −∞</span><br><span class="line">	for i &#x3D; 2 to n do</span><br><span class="line">        j &#x3D; i</span><br><span class="line">        	while (A[j] &lt; A[j − 1]) do</span><br><span class="line">        		swap(A[j],A[j − 1])</span><br><span class="line">        		j &#x3D; j − 1</span><br></pre></td></tr></table></figure>
<h2 id="Merge-Sort"><a href="#Merge-Sort" class="headerlink" title="Merge Sort"></a>Merge Sort</h2><script type="math/tex; mode=display">
Mergesort(A[1, n])\\
\quad Merge(Mergesort(A[1, n/2], Mergesort(A[n/2] + 1, n) ))</script><p><img src="https://i.loli.net/2020/10/22/JKoGaDcnRN6ZtUk.png" alt="image.png"></p>
<h2 id="Quicksort-Sorting-by-Randomization"><a href="#Quicksort-Sorting-by-Randomization" class="headerlink" title="Quicksort: Sorting by Randomization"></a>Quicksort: Sorting by Randomization</h2><h1 id="Graph-Traversal"><a href="#Graph-Traversal" class="headerlink" title="Graph Traversal"></a>Graph Traversal</h1><p>A graph $G = (V,E)$ consists of a set of <em>vertices $V$</em> together with a set $E$ of vertex pairs or <em>edges</em>. </p>
<h2 id="Data-Structures-for-Graphs"><a href="#Data-Structures-for-Graphs" class="headerlink" title="Data Structures for Graphs"></a>Data Structures for Graphs</h2><ul>
<li><p><em>Adjacency Matrix</em>: We can represent $G$ using an $n \times n$ matrix $M$, where element $M[i,j] = 1$ if $(i,j)$ is an edge of $G$, and 0 if it isn’t. This allows fast answers to the question “is $(i,j)$ in G?”, and rapid updates for edge insertion and deletion. It may use excessive space for graphs with many vertices and relatively few edges, however.</p>
</li>
<li><p><em>Adjacency Lists</em>: We can more efficiently represent sparse graphs by using linked lists to store the neighbors adjacent to each vertex. </p>
</li>
</ul>
<p>Adjacency lists make it harder to verify whether a given edge (i,j) is in G, since we must search through the appropriate list to find the edge. </p>
<h3 id="Breadth-First-Search"><a href="#Breadth-First-Search" class="headerlink" title="Breadth-First Search"></a>Breadth-First Search</h3><p>The basic breadth-first search algorithm is given below. At some point during the course of a traversal, every node in the graph changes state from undiscovered to discovered. In a breadth-first search of an undirected graph, we assign a direction to each edge, from the discoverer u to the discovered v. We thus denote u to be the parent of v. Since each node has exactly one parent, except for the root, this defines a tree on the vertices of the graph. </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">BFS(G,s)</span><br><span class="line">    for each vertex u ∈ V [G] − &#123;s&#125; do</span><br><span class="line">        state[u] &#x3D; “undiscovered”</span><br><span class="line">        p[u] &#x3D; nil, i.e. no parent is in the BFS tree</span><br><span class="line">    state[s] &#x3D; “discovered”</span><br><span class="line">    p[s] &#x3D; nil</span><br><span class="line">    Q &#x3D; &#123;s&#125;</span><br><span class="line">    while Q :&#x3D; ∅ do</span><br><span class="line">        u &#x3D; dequeue[Q]</span><br><span class="line">        process vertex u as desired</span><br><span class="line">        for each v ∈ Adj[u] do</span><br><span class="line">            process edge (u,v) as desired</span><br><span class="line">            if state[v] &#x3D; “undiscovered” then</span><br><span class="line">                state[v] &#x3D; “discovered”</span><br><span class="line">                p[v] &#x3D; u</span><br><span class="line">                enqueue[Q,v]</span><br><span class="line">        state[u] &#x3D; “processed”</span><br></pre></td></tr></table></figure>
<h4 id="Applications-of-Breadth-First-Search"><a href="#Applications-of-Breadth-First-Search" class="headerlink" title="Applications of Breadth-First Search"></a>Applications of Breadth-First Search</h4><p>Connected Components</p>
<p>Two-coloring graphs</p>
<h3 id="Depth-First-Search"><a href="#Depth-First-Search" class="headerlink" title="Depth-First Search"></a>Depth-First Search</h3><p>There are two primary graph traversal algorithms: breadth-first search (BFS) and depth-first search (DFS). For certain problems, it makes absolutely no difference which you use, but in others the distinction is crucial. The difference between BFS and DFS results is in the order in which they explore vertices. This order depends completely upon the container data structure used to store the discovered but not processed vertices.</p>
<ul>
<li>Queue – By storing the vertices in a first-in, first-out (FIFO) queue, we explore the oldest unexplored vertices first. Thus our explorations radiate out slowly from the starting vertex, defining a breadth-first search. </li>
<li>Stack – By storing the vertices in a last-in, first-out (LIFO) stack, we explore the vertices by lurching along a path, visiting a new neighbor if one is available, and backing up only when we are surrounded by previously discovered vertices. Thus, our explorations quickly wander away from our starting point, defining a depth-first search.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">DFS(G,u)</span><br><span class="line">    state[u] &#x3D; “discovered”</span><br><span class="line">    process vertex u if desired</span><br><span class="line">    entry[u] &#x3D; time</span><br><span class="line">    time &#x3D; time + 1</span><br><span class="line">    for each v ∈ Adj[u] do</span><br><span class="line">        process edge (u,v) if desired</span><br><span class="line">        if state[v] &#x3D; “undiscovered” then</span><br><span class="line">            p[v] &#x3D; u</span><br><span class="line">            DFS(G,v)</span><br><span class="line">        state[u] &#x3D; “processed”</span><br><span class="line">        exit[u] &#x3D; time</span><br><span class="line">    time &#x3D; time + 1</span><br></pre></td></tr></table></figure>
<p>Depth-first search </p>
<ul>
<li>uses entry and exit times </li>
<li>partitions the edges of an undirected graph into exactly two classes: tree edges and back edges.</li>
<li>all edges fall into these two classes.</li>
</ul>
<p>DFS organizes vertices by entry/exit times, and edges into tree and back edges. This organization is what gives DFS its real power.</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nobugs.dev/2020/07/29/Hulu%20AI%20Class%202/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinyi Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyi's gadget">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/29/Hulu%20AI%20Class%202/" itemprop="url">Hulu AI Class - Feature Engineering</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-29T12:56:21-07:00">
                2020-07-29
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/RecommenderSystems/" itemprop="url" rel="index">
                    <span itemprop="name">RecommenderSystems</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/07/29/Hulu%20AI%20Class%202/" class="leancloud_visitors" data-flag-title="Hulu AI Class - Feature Engineering">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  55
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id=""><a href="#" class="headerlink" title=""></a><img src="https://i.loli.net/2020/07/29/nfbzsIS6Awe2kLZ.png" alt="image.png"></h1><h1 id="Feature-Engineering"><a href="#Feature-Engineering" class="headerlink" title="Feature Engineering"></a>Feature Engineering</h1><h2 id="Feature-Design"><a href="#Feature-Design" class="headerlink" title="Feature Design"></a>Feature Design</h2><ul>
<li>Brainstorming</li>
<li>Ask Business Experts</li>
<li>Ask Senior RSDE</li>
</ul>
<h3 id="Data-Cleaning"><a href="#Data-Cleaning" class="headerlink" title="Data Cleaning"></a>Data Cleaning</h3><p>Raw Data has</p>
<ul>
<li>Null value<ul>
<li>Fill(low missing rate)<ul>
<li>Mean Value</li>
<li>Medium Number</li>
<li>RandomForestRegressor</li>
</ul>
</li>
<li>Drop column</li>
</ul>
</li>
<li>Outlier<ul>
<li>Fill<ul>
<li>Mean value</li>
<li>Medium number</li>
</ul>
</li>
<li>Drop row</li>
</ul>
</li>
</ul>
<h2 id="Feature-Transform"><a href="#Feature-Transform" class="headerlink" title="Feature Transform"></a>Feature Transform</h2><ul>
<li>Category<ul>
<li>one-hot</li>
<li>multi-hot</li>
</ul>
</li>
<li>Numeric<ul>
<li>Normalization</li>
<li>Standardization</li>
<li>Discretization</li>
</ul>
</li>
<li>Time</li>
<li>Text</li>
<li>Statistical</li>
<li>Combined</li>
</ul>
<p><img src="https://i.loli.net/2020/07/29/LN61GwPOAgzMlsn.png" alt="image.png"></p>
<h2 id="Feature-Selection"><a href="#Feature-Selection" class="headerlink" title="Feature Selection"></a>Feature Selection</h2><ul>
<li>Filter</li>
<li>Wrapper</li>
<li>Embedded</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nobugs.dev/2020/07/21/OS162_Lecture2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinyi Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyi's gadget">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/21/OS162_Lecture2/" itemprop="url">UC Berkeley CS162 Operating Systems Lecture 2 - Introduction to Processes</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-21T19:45:23-07:00">
                2020-07-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OS/" itemprop="url" rel="index">
                    <span itemprop="name">OS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/07/21/OS162_Lecture2/" class="leancloud_visitors" data-flag-title="UC Berkeley CS162 Operating Systems Lecture 2 - Introduction to Processes">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  925
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  5
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://inst.eecs.berkeley.edu/~cs162/sp19/" target="_blank" rel="noopener"><strong>Course Link(including Slides and Materials)</strong></a></p>
<p><a href="https://www.bilibili.com/video/BV1e7411B7Ja?from=search&amp;seid=15268514960428356326" target="_blank" rel="noopener"><strong>Online Video Link</strong></a></p>
<h1 id="Four-Fundamental-OS-Concepts"><a href="#Four-Fundamental-OS-Concepts" class="headerlink" title="Four Fundamental OS Concepts"></a>Four Fundamental OS Concepts</h1><h3 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a><strong>Thread</strong></h3><ul>
<li>Single unique execution context: fully describes program state</li>
<li>Program Counter, Registers, Execution Flags, Stack</li>
</ul>
<h3 id="Address-space-with-translation"><a href="#Address-space-with-translation" class="headerlink" title="Address space (with translation)"></a><strong>Address</strong> <strong>space</strong> (with <strong>translation</strong>)</h3><ul>
<li>Programs execute in an <em>address space</em> that is distinct from the memory space of the physical machine</li>
</ul>
<h3 id="Process"><a href="#Process" class="headerlink" title="Process"></a><strong>Process</strong></h3><ul>
<li>An instance of an executing program is <em>a process consisting of an address space and one or more threads of control</em></li>
</ul>
<h3 id="Dual-mode-operation-Protection"><a href="#Dual-mode-operation-Protection" class="headerlink" title="Dual mode operation / Protection"></a><strong>Dual mode operation / Protection</strong></h3><ul>
<li>Only the “system” has the ability to access certain resources</li>
<li>The OS and the hardware are protected from user programs and user programs are isolated from one another by <em>controlling the translation</em> from program virtual addresses to machine physical addresses</li>
</ul>
<h1 id="OS-Bottom-Line-Run-Programs"><a href="#OS-Bottom-Line-Run-Programs" class="headerlink" title="OS Bottom Line: Run Programs"></a>OS Bottom Line: Run Programs</h1><ul>
<li>Load instruction and data segments of executable file into memory</li>
<li>Create stack and heap</li>
<li>“Transfer control to program”</li>
<li>Provide services to program</li>
<li>While protecting OS and program</li>
</ul>
<h1 id="What-happens-during-program-execution"><a href="#What-happens-during-program-execution" class="headerlink" title="What happens during program execution?"></a>What happens during program execution?</h1><ul>
<li>Execution sequence:<ul>
<li>Fetch Instruction at PC  </li>
<li>Decode</li>
<li>Execute (possibly using registers)</li>
<li>Write results to registers/mem</li>
<li>PC = Next Instruction(PC)</li>
<li>Repeat</li>
</ul>
</li>
</ul>
<h1 id="First-OS-Concept-Thread-of-Control"><a href="#First-OS-Concept-Thread-of-Control" class="headerlink" title="First OS Concept: Thread of Control"></a>First OS Concept: Thread of Control</h1><ul>
<li><p>Certain registers hold the <em>context</em> of thread</p>
<ul>
<li>Stack pointer holds the address of the top of stack<ul>
<li>Other conventions: Frame pointer, Heap pointer, Data</li>
</ul>
</li>
<li>May be defined by the instruction set architecture or by compiler conventions</li>
</ul>
</li>
<li><p><strong>Thread</strong>: Single unique execution context</p>
<ul>
<li>Program Counter, Registers, Execution Flags, Stack</li>
</ul>
</li>
<li><p>A thread is executing on a processor when it is resident in the processor registers.</p>
</li>
<li><p>PC register holds the address of executing instruction in the thread</p>
</li>
<li><p>Registers hold the root state of the thread.</p>
<ul>
<li>The rest is “in memory”</li>
</ul>
</li>
</ul>
<h1 id="Second-OS-Concept-Program’s-Address-Space"><a href="#Second-OS-Concept-Program’s-Address-Space" class="headerlink" title="Second OS Concept: Program’s Address Space"></a>Second OS Concept: Program’s Address Space</h1><ul>
<li><p>Address space $\Rightarrow$ the set of accessible addresses + state associated with them:</p>
<ul>
<li>For a 32-bit processor there are 232 = 4 billion addresses</li>
</ul>
</li>
<li><p>What happens when you read or write to an address?</p>
<ul>
<li>Perhaps nothing</li>
<li>Perhaps acts like regular memory</li>
<li>Perhaps ignores writes</li>
<li>Perhaps causes I/O operation<ul>
<li>(Memory-mapped I/O)</li>
</ul>
</li>
<li>Perhaps causes exception (fault)</li>
</ul>
</li>
</ul>
<h1 id="How-can-we-give-the-illusion-of-multiple-processors"><a href="#How-can-we-give-the-illusion-of-multiple-processors" class="headerlink" title="How can we give the illusion of multiple processors?"></a>How can we give the illusion of multiple processors?</h1><p><img src="https://i.loli.net/2020/07/21/UKcseMStzlERg3X.png" alt="image.png"></p>
<ul>
<li><p>Assume a single processor. How do we provide the illusion of multiple processors?</p>
<ul>
<li>Multiplex in time!</li>
</ul>
</li>
<li><p>Each virtual “CPU” needs a structure to hold:</p>
<ul>
<li>Program Counter (PC), Stack Pointer (SP)</li>
<li>Registers (Integer, Floating point, others…?)</li>
</ul>
</li>
<li><p>How switch from one virtual CPU to the next?</p>
<ul>
<li>Save PC, SP, and registers in current state block</li>
<li>Load PC, SP, and registers from new state block</li>
</ul>
</li>
<li><p>What triggers switch?</p>
<ul>
<li>Timer, voluntary yield, I/O, other things</li>
</ul>
</li>
</ul>
<h1 id="The-Basic-Problem-of-Concurrency"><a href="#The-Basic-Problem-of-Concurrency" class="headerlink" title="The Basic Problem of Concurrency"></a>The Basic Problem of Concurrency</h1><ul>
<li><p>The basic problem of concurrency involves resources:</p>
<ul>
<li>Hardware: single CPU, single DRAM, single I/O devices</li>
<li>Multiprogramming API: processes think they have exclusive access to shared resources</li>
</ul>
</li>
<li><p>OS has to coordinate all activity</p>
<ul>
<li>Multiple processes, I/O interrupts, …</li>
<li>How can it keep all these things straight?</li>
</ul>
</li>
<li><p>Basic Idea: Use Virtual Machine abstraction</p>
<ul>
<li>Simple machine abstraction for processes</li>
<li>Multiplex these abstract machines</li>
</ul>
</li>
<li><p>Dijkstra did this for the “THE system”</p>
<ul>
<li>Few thousand lines vs 1 million lines in OS 360 (1K bugs)</li>
</ul>
</li>
</ul>
<h1 id="Properties-of-this-simple-multiprogramming-technique"><a href="#Properties-of-this-simple-multiprogramming-technique" class="headerlink" title="Properties of this simple multiprogramming technique"></a>Properties of this simple multiprogramming technique</h1><ul>
<li><p>All virtual CPUs share same non-CPU resources</p>
<ul>
<li>I/O devices the same</li>
<li>Memory the same</li>
</ul>
</li>
<li><p>Consequence of sharing:</p>
<ul>
<li>Each thread can access the data of every other thread (good for sharing, bad for protection)</li>
<li>Threads can share instructions<br> (good for sharing, bad for protection)</li>
<li>Can threads overwrite OS functions? </li>
</ul>
</li>
<li><p>This (unprotected) model is common in:</p>
<ul>
<li>Embedded applications</li>
<li>Windows 3.1/Early Macintosh (switch only with yield)</li>
<li>Windows 95—ME (switch with both yield and timer)</li>
</ul>
</li>
</ul>
<h1 id="Protection"><a href="#Protection" class="headerlink" title="Protection"></a>Protection</h1><ul>
<li><p>Operating System must protect itself from user programs</p>
<ul>
<li>Reliability: compromising the operating system generally causes it to crash</li>
<li>Security: limit the scope of what processes can do</li>
<li>Privacy: limit each process to the data it is permitted to access</li>
<li>Fairness: each should be limited to its appropriate share of system resources (CPU time, memory, I/O, etc)</li>
</ul>
</li>
<li><p>It must protect User programs from one another</p>
</li>
<li><p>Primary Mechanism: limit the translation from program address space to physical memory space</p>
<ul>
<li>Can only touch what is mapped into process <em>address space</em></li>
</ul>
</li>
<li><p>Additional Mechanisms:</p>
<ul>
<li>Privileged instructions, in/out instructions, special registers</li>
<li>syscall processing, subsystem implementation <ul>
<li>(e.g., file access rights, etc) </li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="Third-OS-Concept-Process"><a href="#Third-OS-Concept-Process" class="headerlink" title="Third OS Concept: Process"></a>Third OS Concept: Process</h1><ul>
<li><p>Process: execution environment with Restricted Rights</p>
<ul>
<li>Address Space with One or More Threads</li>
<li>Owns memory (address space)</li>
<li>Owns file descriptors, file system context, …</li>
<li>Encapsulate one or more threads sharing process resources</li>
</ul>
</li>
<li><p>Why processes?</p>
<ul>
<li>Protected from each other!</li>
<li>OS Protected from them</li>
<li>Processes provides memory protection</li>
<li>Threads more efficient than processes (later)</li>
</ul>
</li>
<li><p>Fundamental tradeoff between protection and efficiency</p>
</li>
<li><p>Communication easier <em>within</em> a process</p>
</li>
<li><p>Communication harder <em>between</em> processes</p>
</li>
<li><p>Application instance consists of one or more processes </p>
</li>
</ul>
<p><img src="https://i.loli.net/2020/07/21/BZK72hIqeuPV3MO.png" alt="image.png"></p>
<ul>
<li><p>Threads encapsulate concurrency: “Active” component</p>
</li>
<li><p>Address spaces encapsulate protection: “Passive” part</p>
<ul>
<li>Keeps buggy program from trashing the system</li>
</ul>
</li>
</ul>
<h1 id="Fourth-OS-Concept-Dual-Mode-Operation"><a href="#Fourth-OS-Concept-Dual-Mode-Operation" class="headerlink" title="Fourth OS Concept: Dual Mode Operation"></a>Fourth OS Concept: Dual Mode Operation</h1><ul>
<li><p>Hardware provides at least two modes:</p>
<ul>
<li>“Kernel” mode (or “supervisor” or “protected”)</li>
<li>“User” mode: Normal programs executed </li>
</ul>
</li>
<li><p>What is needed in the hardware to support “dual mode” operation?</p>
<ul>
<li>A bit of state (user/system mode bit)</li>
<li>Certain operations / actions only permitted in system/kernel mode<ul>
<li>In user mode they fail or trap</li>
</ul>
</li>
<li>User à Kernel transition <em>sets</em> system mode AND saves the user PC<ul>
<li>Operating system code carefully puts aside user state then performs the necessary operations</li>
</ul>
</li>
<li>Kernel à User transition <em>clears</em> system mode AND restores appropriate user PC<ul>
<li>return-from-interrupt</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://i.loli.net/2020/07/21/C7tZ6zcrw2vPNyn.png" alt="image.png"></p>
<h2 id="Process-Control-Block"><a href="#Process-Control-Block" class="headerlink" title="Process Control Block"></a>Process Control Block</h2><ul>
<li><p>Kernel represents each process as a process control block (PCB)</p>
<ul>
<li>Status (running, ready, blocked, …)</li>
<li>Register state (when not ready)</li>
<li>Process ID (PID), User, Executable, Priority, …</li>
<li>Execution time, …</li>
<li>Memory space, translation, …</li>
</ul>
</li>
<li><p>Kernel Scheduler maintains a data structure containing the PCBs</p>
</li>
<li><p>Scheduling algorithm selects the next one to run</p>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://nobugs.dev/2020/07/20/OS162_Lecture1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Xinyi Hu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/uploads/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Xinyi's gadget">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/20/OS162_Lecture1/" itemprop="url">UC Berkeley CS162 Operating Systems Lecture 1</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-20T18:27:23-07:00">
                2020-07-20
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/OS/" itemprop="url" rel="index">
                    <span itemprop="name">OS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          
             <span id="/2020/07/20/OS162_Lecture1/" class="leancloud_visitors" data-flag-title="UC Berkeley CS162 Operating Systems Lecture 1">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  225
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://inst.eecs.berkeley.edu/~cs162/sp19/" target="_blank" rel="noopener"><strong>Course Link(including Slides and Materials)</strong></a></p>
<p><a href="https://www.bilibili.com/video/BV1e7411B7Ja?from=search&amp;seid=15268514960428356326" target="_blank" rel="noopener"><strong>Online Video Link</strong></a></p>
<h1 id="What-is-an-operating-system"><a href="#What-is-an-operating-system" class="headerlink" title="What is an operating system?"></a>What is an operating system?</h1><h2 id="What-does-operating-system-do"><a href="#What-does-operating-system-do" class="headerlink" title="What does operating system do?"></a>What does operating system do?</h2><p>Provide abstractions to apps</p>
<ul>
<li>File systems </li>
<li>Processes, threads </li>
<li>VM, containers</li>
<li>Naming system</li>
</ul>
<p>Manage resources: </p>
<ul>
<li>Memory, CPU, storage, …</li>
</ul>
<p>Achieves the above by implementing specific algorithms and techniques:</p>
<ul>
<li>Scheduling</li>
<li>Concurrency</li>
<li>Transactions </li>
<li>Security</li>
</ul>
<h2 id="What-is-an-operating-system-1"><a href="#What-is-an-operating-system-1" class="headerlink" title="What is an operating system?"></a>What is an operating system?</h2><p>Special layer of software that provides application software access to hardware resources </p>
<ul>
<li>Convenient abstraction of complex hardware devices </li>
<li>Protected access to shared resources </li>
<li>Security and authentication </li>
<li><p>Communication amongst logical entities</p>
</li>
<li><p>Referee</p>
<ul>
<li>Manage sharing of resources, Protection, Isolation<ul>
<li>Resource allocation, isolation, communication</li>
</ul>
</li>
</ul>
</li>
<li><p>Illusionist</p>
<ul>
<li>Provide clean, easy to use abstractions of physical resources<ul>
<li>Infinite memory, dedicated machine</li>
<li>Higher level objects: files, users, messages</li>
<li>Masking limitations, virtualization</li>
</ul>
</li>
</ul>
</li>
<li><p>Glue</p>
<ul>
<li>Common services<ul>
<li>Storage, Window system, Networking</li>
<li>Sharing, Authorization</li>
<li>Look and feel</li>
</ul>
</li>
</ul>
</li>
<li><p>No universally accepted definition </p>
</li>
<li>“Everything a vendor ships when you order an operating system” is good approximation <ul>
<li>But varies wildly </li>
</ul>
</li>
<li>“The one program running at all times on the computer” is the kernel –Everything else is either a system program (ships with the operating system) or an application program</li>
</ul>
<h1 id="In-conclusion"><a href="#In-conclusion" class="headerlink" title="In conclusion"></a>In conclusion</h1><ul>
<li>Operating systems provide a virtual machine abstraction to handle diverse hardware <ul>
<li>Operating systems simplify application development by providing standard services </li>
</ul>
</li>
<li>Operating systems coordinate resources and protect users from each other<ul>
<li>Operating systems can provide an array of fault containment, fault tolerance, and fault recovery</li>
</ul>
</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
 <nav class="pagination">
   <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="accessibility.next_page"></i></a>
 </nav>

          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/uploads/avatar.jpg"
                alt="Xinyi Hu" />
            
              <p class="site-author-name" itemprop="name">Xinyi Hu</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">36</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">tags</span>
                
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/samaritanhu" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:samaritanhu@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.linkedin.com/in/cindy-hu-b98b1a163/" target="_blank" title="Linkedin">
                      
                        <i class="fa fa-fw fa-globe"></i>Linkedin</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        ﻿<div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-snowflake-o"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Xinyi Hu</span>

  
</div>

<!--

  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>

-->


    <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
 
    <span id="busuanzi_container_site_pv">总访问量<span id="busuanzi_value_site_pv"></span>次</span>
    <span class="post-meta-divider">|</span>
    <span id="busuanzi_container_site_uv">总访客<span id="busuanzi_value_site_uv"></span>人</span>
    <span class="post-meta-divider">|</span>
 



<!--

  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>

-->


        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.json";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("", "");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  


</body>
</html>
